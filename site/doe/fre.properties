#
# $Id: fre.properties,v 18.0.2.24 2011/07/17 01:10:36 afy Exp $
# ------------------------------------------------------------------------------
# FMS/FRE Project: Site Properties File - NCCS Version
# ------------------------------------------------------------------------------
# arl    Ver   18.0  Merged revision 1.1.2.22 onto trunk            March 10
# afy -------------- Branch 18.0.2 -------------------------------- April 10
# afy    Ver   1.00  Modify FRE.scheduler.runtime.max               April 10
# afy    Ver   2.00  Modify FRE.tool.mkmf.template.mapping          June 10
# afy    Ver   3.01  Add FRE.scheduler.option.dependsOn             June 10
# afy    Ver   3.02  Add FRE.scheduler.option.name                  June 10
# afy    Ver   3.03  Add FRE.scheduler.option.npes                  June 10
# afy    Ver   3.04  Add FRE.scheduler.option.time                  June 10
# afy    Ver   4.00  Add FRE.scheduler.qsub.output.pattern          June 10
# afy    Ver   5.00  Add FRE.scheduler.option.generic               July 10
# afy    Ver   5.01  Add FRE.scheduler.option.join                  July 10
# afy    Ver   5.02  Add FRE.scheduler.option.mail                  July 10
# afy    Ver   5.03  Add FRE.scheduler.option.project               July 10
# afy    Ver   5.04  Add FRE.scheduler.option.queue                 July 10
# afy    Ver   5.05  Add FRE.scheduler.option.stdout                July 10
# afy    Ver   5.06  Add FRE.scheduler.variable.environment*        July 10
# arl    Ver   6.00  Add FRE.scheduler.variable.jobID               August 10
# arl    Ver   6.01  Add FRE.versioncontrol.cvs.root                August 10
# arl    Ver   6.02  Add FRE.autoRTS.root.prefix                    August 10
# arl    Ver   6.03  Add FRE.autoRTS.archive.prefix                 August 10
# afy    Ver   6.04  Modify FRE.versioncontrol.cvs.root (use ssh)   August 10
# afy    Ver   7.00  Modify FRE.tool.mkmf.template.mapping          August 10
# afy    Ver   8.00  Modify FRE.versioncontrol.cvs.root (rollback)  August 10
# afy    Ver   8.01  Remove FRE.site                                August 10
# afy    Ver   9.00  Rename FRE.scheduler.qsub.output.pattern       September 10
# afy    Ver   9.01  Add FRE.scheduler.submit.command               September 10
# afy    Ver  10.00  Add FRE.scheduler.coresPerJob.max.(make|run)   September 10
# afy    Ver  10.01  Split FRE.scheduler.submit.output.pattern      September 10
# afy    Ver  11.00  Add FRE.tool.make.jobs.default                 September 10
# afy    Ver  11.01  Add FRE.scheduler.coresPerJob.increment.*      September 10
# afy    Ver  11.02  Add FRE.scheduler.coresPerJob.max.transfer     September 10
# afy    Ver  11.03  Rename FRE.scheduler.option.npes => *ncores    September 10
# afy    Ver  11.04  Remove FRE.machine.coresPerNode                September 10
# afy    Ver  11.05  Add FRE.scheduler.queue.(make|run|transfer)    September 10
# afy    Ver  11.06  Remove FRE.scheduler.queue                     September 10
# afy    Ver  12.00  Merge FRE.scheduler.submit.output.pattern.*    September 10
# afy    Ver  13.00  Add FRE.tool.mkmf.template.default             September 10
# afy    Ver  14.00  Modify FRE.scheduler.option.stdout (no vars)   October 10
# afy    Ver  14.01  Add FRE.scheduler.queue.outputStager           October 10
# afy    Ver  15.00  Add FRE.directory.stem.default                 November 10
# afy    Ver  15.01  Modify FRE.directory.exec.default (stem)       November 10
# afy    Ver  15.02  Modify FRE.directory.scripts.default (stem)    November 10
# afy    Ver  15.03  Modify FRE.directory.stdout.default (stem)     November 10
# afy    Ver  15.04  Modify FRE.directory.archive.default (stem)    November 10
# afy    Ver  15.05  Modify FRE.directory.work.default              November 10
# afy    Ver  15.06  Modify FRE.directory.analysis.default          November 10
# afy    Ver  16.00  Modify FRE.directory.stem.default              November 10
# afy    Ver  16.01  Modify FRE.directory.root.default              November 10
# afy    Ver  16.02  Modify FRE.directory.src.default               November 10
# afy    Ver  16.03  Modify FRE.directory.exec.default              November 10
# afy    Ver  16.04  Modify FRE.directory.scripts.default           November 10
# afy    Ver  16.05  Modify FRE.directory.stdout.default            November 10
# afy    Ver  16.06  Modify FRE.directory.archive.default           November 10
# afy    Ver  17.00  Add FRE.output.staging.*                       November 10
# arl    Ver  18.00  Modify FRE.directory.stem.default              November 10
# arl    Ver  18.01  Modify FRE.directory.src.default               November 10
# arl    Ver  18.02  Modify FRE.directory.exec.default              November 10
# arl    Ver  18.03  Modify FRE.directory.scripts.default           November 10
# arl    Ver  18.04  Modify FRE.directory.stdout.default            November 10
# arl    Ver  18.05  Modify FRE.directory.archive.default           November 10
# afy    Ver  19.00  Modify FRE.scheduler.option.mail               December 10
# afy    Ver  19.01  Add FRE.scheduler.runtime.outputStager         December 10
# afy    Ver  19.02  Add FRE.scheduler.runtime.fileSender.*         December 10
# afy    Ver  20.00  Modify FRE.directory.roots.default (add $HOME) January 11
# afy    Ver  20.01  Add FRE.scheduler.enabled                      January 11
# afy    Ver  21.00  Add FRE.scheduler.queues                       February 11
# afy    Ver  21.01  Add FRE.scheduler.queue.default                February 11
# afy    Ver  21.02  Rename FRE.scheduler.*.<jobType>               February 11
# afy    Ver  22.00  Add FRE.mpi.runCommand.default                 March 11
# afy    Ver  22.01  Add FRE.tool.fremake.enabled                   March 11
# afy    Ver  22.02  Add FRE.tool.frerun.enabled                    March 11
# afy    Ver  22.03  Add FRE.tool.frepriority.enabled               March 11
# afy    Ver  23.00  Remove Jaguar XT4 settings                     May 11
# afy    Ver  23.01  Reorder all scheduler settings by job type     May 11
# afy    Ver  23.02  Add FRE.scheduler.workDirCleaner.*             May 11
# afy    Ver  23.03  Add FRE.directory.state.*                      May 11
# afy    Ver  51.00  Add FRE.directory.stmp.*                       July 11
# afy    Ver  51.01  Remove FRE.scheduler.transfer.*                July 11
# ------------------------------------------------------------------------------
# Copyright (C) NOAA Geophysical Fluid Dynamics Laboratory, 2000-2011
# Designed and written by V. Balaji, Amy Langenhorst and Aleksey Yakovlev
#

FRE.directory.stem.default=$(suite)

FRE.directory.root.default=$HOME/$(stem)
FRE.directory.src.default=$(rootDir)/$(name)/src
FRE.directory.exec.default=$(rootDir)/$(name)/$(platform)-$(target)/exec
FRE.directory.scripts.default=$(rootDir)/$(name)/$(platform)-$(target)/scripts
FRE.directory.stdout.default=$(rootDir)/$(name)/$(platform)-$(target)/stdout
FRE.directory.state.default=$(rootDir)/$(name)/$(platform)-$(target)/state
FRE.directory.work.default=/tmp/work/$USER/work/$PBS_JOBID
FRE.directory.ptmp.default=/tmp/proj/gfdl/$USER/ptmp
FRE.directory.stmp.default=/tmp/proj/gfdl/$USER/stmp
FRE.directory.archive.default=/tmp/proj/gfdl/$USER/$(stem)/$(name)/$(platform)-$(target)
FRE.directory.postProcess.default=$(archiveDir)/pp
FRE.directory.analysis.default=$(archiveDir)/analysis

FRE.directory.roots.default=$HOME;/ccs/home;/tmp

FRE.directory.root.roots=$(FRE.directory.roots.default)
FRE.directory.src.roots=$(FRE.directory.roots.default)
FRE.directory.exec.roots=$(FRE.directory.roots.default)
FRE.directory.scripts.roots=$(FRE.directory.roots.default)
FRE.directory.stdout.roots=$(FRE.directory.roots.default)
FRE.directory.state.roots=$(FRE.directory.roots.default)
FRE.directory.work.roots=$(FRE.directory.roots.default)
FRE.directory.ptmp.roots=$(FRE.directory.roots.default)
FRE.directory.stmp.roots=$(FRE.directory.roots.default)
FRE.directory.archive.roots=$(FRE.directory.roots.default)
FRE.directory.postProcess.roots=$(FRE.directory.roots.default)
FRE.directory.analysis.roots=$(FRE.directory.roots.default)

FRE.directory.expNamed=archive;postProcess;analysis

FRE.mpi.runCommand.default=/usr/bin/time -p `which aprun` -n $npes ./$executable:t

FRE.tool.mkmf.template.mapping=intel.mk{{^\s*module\s+load\s+PrgEnv-intel}};pathscale.mk{{^\s*module\s+load\s+PrgEnv-pathscale}};pgi.mk{{^\s*module\s+load\s+PrgEnv-pgi}};NULL
FRE.tool.mkmf.template.default=pathscale.mk

FRE.tool.make.override.netcdf.mapping=4{{^\s*module\s+load\s+netcdf\/4\.0\.1}};3
FRE.tool.make.jobs.default=4

FRE.tool.fremake.enabled=1
FRE.tool.frerun.enabled=1
FRE.tool.frepriority.enabled=1

FRE.scheduler.enabled=1
FRE.scheduler.prefix=#PBS
FRE.scheduler.project=CLI029

FRE.scheduler.submit.command=qsub
FRE.scheduler.submit.output.pattern=^(\d+)\.(.*)$

FRE.scheduler.option.dependsOn=-W depend=afterok:$
FRE.scheduler.option.generic=-v $
FRE.scheduler.option.join=-j oe
FRE.scheduler.option.mail=-m $
FRE.scheduler.option.name=-N $
FRE.scheduler.option.ncores=-l size=$
FRE.scheduler.option.project=-A $
FRE.scheduler.option.queue=-q $
FRE.scheduler.option.stdout=-o $/
FRE.scheduler.option.time=-l walltime=$

FRE.scheduler.variable.environment=PBS_ENVIRONMENT
FRE.scheduler.variable.environment.value.batch=PBS_BATCH
FRE.scheduler.variable.jobID=PBS_JOBID

FRE.scheduler.queues=batch;debug
FRE.scheduler.queue.default=batch

FRE.scheduler.make.queue=batch
FRE.scheduler.make.coresPerJob.inc=12
FRE.scheduler.make.coresPerJob.max=1000000

FRE.scheduler.run.queue=batch
FRE.scheduler.run.coresPerJob.inc=12
FRE.scheduler.run.coresPerJob.max=1000000

FRE.scheduler.outputStager.queue=batch
FRE.scheduler.outputStager.coreSpec=size=12
FRE.scheduler.outputStager.runtime.ascii=2:00:00
FRE.scheduler.outputStager.runtime.restart=2:00:00
FRE.scheduler.outputStager.runtime.history=2:00:00

FRE.scheduler.workDirCleaner.queue=batch
FRE.scheduler.workDirCleaner.coreSpec=size=12
FRE.scheduler.workDirCleaner.runtime=8:00

FRE.scheduler.runtime.max=2:00:00{{2003}};6:00:00{{5003}};12:00:00{{40007}};24:00:00

FRE.versioncontrol.cvs.root=:ext:$remoteuser@fms.gfdl.noaa.gov:/cvsroot/fms

FRE.autoRTS.root.prefix=/ccs/home/$USER/autoRTS
FRE.autoRTS.archive.prefix=/tmp/work/$USER/autoRTS

FRE.output.staging.online=1
FRE.output.staging.staged=1
