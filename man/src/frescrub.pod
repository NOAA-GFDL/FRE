
=head1 NAME

frescrub - Create a script to remove FRE generated postprocessing data

=head1 SYNOPSIS

frescrub [OPTIONS] exp [exp ...]

=head1 DESCRIPTION

B<frescrub> writes a shell script to remove duplicate postprocessing data
generated by FRE.  With no capitalized arguments, it will print a
report of postprocessing cpio files, NetCDF files, and their sizes.
You must choose one of the capitalized options to have frescrub write
deletion commands into a shell script.  The shell script will not be
executed automatically unless you use the -s option.  Also, frescrub
will not delete any NetCDF files if any errors were reported for their
associated cpio file.  To override this, use the B<-f> option.  You can
specify year ranges between which to delete duplicate files with B<-i>.


=head1 OPTIONS

=head2 Scrubbing Options

=over 5

=over 8

=item B<-A>, B<--individual>

Remove NetCDF files when a cpio file exists.

=item B<-B>, B<--raw>

Remove redundant, uncombined 'raw' history files.

=item B<-C>, B<--scripts>

Clean up $root by deleting excess old scripts.

=item B<-T>, B<--ptmp>

Remove all ptmp history,restart,pp files for this I<exp>.  I<NOTE>:
This option is not affected by -c at this time.

=item B<-D>, B<--all>

All of the above cleanup options that are applicable.

=back

=back

=head2 Other Scrubbing Options

=over 5

=over 8

=item B<-f>, B<--force>

Force scrub, overriding warnings.

=item B<-d>, B<--dir> I<< <DIRECTORY> >>

Path to history directory.  Default: F<$archive/$name/history>

=item B<-P>, B<--ppdir> I<< <DIRECTORY> >>

Path to pp directory. Default: F<$archive/$name/pp>

=item B<-i>, B<--interval> I<< <YEAR_INTERVAL> >>
Interval of dates to scrub, e.g. "-i 0001-0100" scrubs year 1-100.

=item B<-c>, B<--component> I<< <COMPONENT> >>

Delete files for one component only.

=item B<-s>, B<--submit>

Automatically submit the script to the batching system.

=back

=back

=head2 General FRE Options

=over 5

=over 8

=item B<-P>, B<--platform> I<< <PLATFORM> >>

Use this platform from the XML to setup the specific hardware and
software the experiment will be built and run on.  For postprocessing
runs made at remote sites, I<< <PLATFORM> >> is
of the form <site>.<run-site>-<software>.  Default: gfdl.ncrc2-default.

=item B<-T>, B<--target> I<< <STRING> >>

The compilation target. For postprocessing, the target should be the same
as was used for the model run.

=item B<-x>, B<--xmlfile> I<< <xmlFile> >>

Use the XML file defined by I<< <xmlFile> >>.  Default: F<$cwd/rts.xml>.

=item B<-v>, B<--verbose>

Verbose messages.  Option can be repeated to increase the verbosity.

=item B<-h>, B<--help>

Print the usage message and exit.

=item I<exp>

At least one experiment from the I<< <xmlFile> >> must be listed as an
argument.  Run B<frelist> to get a list of available experiments.

=back

=back



=head1 SEE ALSO

B<frelist>(1), B<frepp>(1)

=head1 BUGS

=begin man

Report any bugs to GFDL's Helpdesk <oar.gfdl.help@noaa.gov>

=end man

=begin html

<p>Report any bugs to 
<script type="text/javascript">
   <!--
   var contact = "GFDL's Helpdesk";
   var email = "oar.gfdl.help";
   var emailHost = "noaa.gov";
   document.write("<a href=" + "mail" + "to:" + email + "@" + emailHost + ">" + contact + "</a>" + ".");
   //-->
</script>
</p>

=end html

=begin latex

Report any bugs to GFDL's Helpdesk <\texttt{oar.gfdl.help@noaa.gov}>.

=end latex

=begin mediawiki

Report any bugs to GFDL's Helpdesk <oar.gfdl.heml@noaa.gov>

=end mediawiki

=head1 AUTHOR

Designed and written by Amy Langenhorst.

=head1 COPYRIGHT

Copyright 2000-2012 Geophysical Fluid Dynamics Laboratory

The Flexible Modeling System (FMS) is free software; you can
redistribute it and/or modify it and are expected to follow the terms
of the GNU General Public License as published by the Free Software
Foundation; either version 2 of the License, or (at your option) any
later version.

FMS is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
for more details.

=cut
