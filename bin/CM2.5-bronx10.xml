<?xml version="1.0"?>
<!-- < << < < < < < <FRE Usage documentation: http://www.gfdl.noaa.gov/fms/fre -->
<!-- $Id$ -->

<!-- This
     is
a < < < < < < < < < < < < <multiline ^ && &
comment 
--><![CDATA[   
hello world && &
]]>

<!-- This is another multiline comment --> <!-- However, it consists --><!-- of 
more than
one comment instance --><!-- in this > xml --><!-- another --><!-- big
test
here.-->

<experimentSuite rtsVersion="4" xmlns:xi="http://www.w3.org/2001/XInclude">
  <property name="RELEASE" value="ulm_201505_c3" />
  <property name="FRE_STEM" value="CM2.5" />
  <property name="REFERENCE_VERSION" value="siena" />
  <property name="FRE_VERSION" value="bronx-10" /><!-- Single line --><!-- Multi-
line comment -->

  <!-- Properties for seasonal forecasts --><!-- Single line 2 --><!-- Multi line
 comment 2--> <property name="MON" value="AUG" /> <!-- JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC -->
  <property name="YEAR" value="2018" /> <!-- 2014, 2015, etc -->
  <property name="MM" value="08" /> <!-- 01, 02, 03, 04, 05, 06, 07, 08 09, 10, 11, 12 -->
  <property name="END_TIME" value="2018-08-07" /> <!-- Date for end time in the format YYYY-MM-DD -->
  <property name="MM_END" value="08" />
  <property name="ENS_SIZE" value="02" />

  <!-- Analysis properties -->
  <property name="DO_ANALYSIS" value="on" /> <!-- "on" or "off" -->
  <property name="ANALYSIS_SCRIPT" value="/home/nmme/analysis/frepp.1by1.csh" />
  <property name="AN_OCEAN_VARS_OPT" value="-v temp" />
  <property name="AN_ATMOS_VARS_OPT" value="-v t_ref,precip,t_ref_max,t_ref_min,hght" />

  <!-- Database properties -->
  <property name="DO_DATABASE" value="yes" /> <!-- "on" or "off" -->
  <property name="CUMULATIVE" value="yes" /> <!-- "yes" or "no" -->
  <property name="DB_SCRIPT" value="/home/pcmdi/fre4/data_publisher_NMME.csh" />

  <setup>
    <fmsRelease><!-- test -->siena</fmsRelease>

    <!-- Default Platforms -->
    <platform name="gfdl.default"><!-- Another test comment -->
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.intel']/node())" />
    </platform>

    <platform name="gfdl.ncrc3-default">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.intel']/node())" />
    </platform>

    <platform name="ncrc3.default">
      <xi:include xpointer="xpointer(//setup/platform[@name='ncrc3.intel']/node())" />
    </platform>

    <!-- GFDL Analysis/PP Platforms -->
    <platform name="gfdl.intel">
      <!-- <freVersion>$(FRE_VERSION)</freVersion> -->
      <property name="INTERNAL_NML_FLAG" value="" />
      <property name="FMS_ARCHIVE_ROOT" value="/archive/fms" />

      <directory stem="$(FRE_STEM)">
        <archive>/archive/$USER/$(FRE_STEM)/$(REFERENCE_VERSION)/$(FRE_VERSION)/$(name)</archive> <!-- To diff the regression runs -->
      </directory>
      <csh><![CDATA[
        source $MODULESHOME/init/csh
        module purge
        module load moab
        module load fre/$(FRE_VERSION)
        ]]>
      </csh>
    </platform>

    <platform name="gfdl.ncrc3-intel">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.intel']/node())" />
    </platform>

    <!-- C3 Platforms -->
    <platform name="ncrc3.intel">
      <property name="INTERNAL_NML_FLAG" value="-DINTERNAL_FILE_NML" />
      <property name="FMS_ARCHIVE_ROOT" value="$CDATA/fms" />

      <!-- project>gfdl_sd</project> -->
      <project>gfdl_f</project>
      <directory stem="$(FRE_STEM)" />
      <csh><![CDATA[
        source $MODULESHOME/init/csh
        module use -a /ncrc/home2/fms/local/modulefiles
        module unload PrgEnv-pgi PrgEnv-pathscale PrgEnv-intel PrgEnv-gnu PrgEnv-cray
        module unload netcdf fre
        module load PrgEnv-intel/6.0.3
        module swap intel intel/16.0.3.210
        module load fre/bronx-10

        setenv MPICH_MAX_SHORT_MSG_SIZE 8000
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        ]]>
      </csh>
    </platform>
  </setup>

  <experiment name="CM2.5_exec">
    <description>
      CM2.5 source and compile area
      NOTE: This "experiment" just builds the executable and is the only one that requires fremake (the rest, frerun).

      GRID changes. use updated code:
      Compile mom4 with static option
    </description>

    <component name="fms"
               paths="shared"
               includeDir="$(srcDir)/shared/include">
      <source versionControl="git"
              root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)">
          shared.git
        </codeBase>
        <csh><![CDATA[
          ( cd shared && git checkout $(RELEASE) )
          ]]>
        </csh>
      </source>
      <compile>
        <cppDefs>
          -Duse_netCDF
          -Duse_libMPI
          -DSPMD
          -DLAND_BND_TRACERS
          -DUSE_OCEAN_BGC
          -Duse_shared_pointers
          -DENABLE_ODA
          -DMAXDIMVALS_=5000000
          -DMAXFIELDS_=200
          -DMAXFIELDMETHODS_=200
          $(INTERNAL_NML_FLAG)
        </cppDefs>
      </compile>
    </component>

    <component name="mom5"
               paths="mom5/ocean_core
                      mom5/ocean_diag
                      mom5/ocean_param
                      mom5/ocean_tracers
                      mom5/ocean_bgc
                      mom5/ocean_blobs
                      mom5/ocean_wave
                      ocean_shared"
               requires="fms">
      <source versionControl="git"
              root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)">
          mom5.git
          ocean_shared.git
        </codeBase>
        <!-- This csh section is needed for systems that use an older
             git version that doesn't support cloning a specific tag
             directly. -->
        <csh><![CDATA[
          ( cd mom5 && git checkout $(RELEASE) )
          ( cd ocean_shared && git checkout $(RELEASE) )
          ]]>
        </csh>
      </source>
      <compile>
        <cppDefs>
          -Duse_netCDF
          -Duse_libMPI
          -DSPMD
          -DLAND_BND_TRACERS
          -DUSE_OCEAN_BGC
          -Duse_shared_pointers
          -DENABLE_ODA
          $(INTERNAL_NML_FLAG)
        </cppDefs>
      </compile>
      <compile target="static" >
        <cppDefs>
          -DMOM4_STATIC_ARRAYS
          -DNI_=1440
          -DNJ_=1070
          -DNK_=50
          -DNI_LOCAL_=90
          -DNJ_LOCAL_=10
          $(INTERNAL_NML_FLAG)
        </cppDefs>
      </compile>
    </component>

    <component name="atmos_phys"
               paths="atmos_param
                      atmos_shared"
               requires="fms">
      <source versionControl="git"
              root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)">
          atmos_param.git
          atmos_shared.git
        </codeBase>
        <!-- This csh section is needed for systems that use an older
             git version that doesn't support cloning a specific tag
             directly. -->
        <csh><![CDATA[
          ( cd atmos_shared && git checkout $(RELEASE) )
          ( cd atmos_param && git checkout $(RELEASE) )
          ]]>
        </csh>
      </source>
      <compile>
        <cppDefs>
          $(INTERNAL_NML_FLAG)
        </cppDefs>
      </compile>
    </component>

    <component name="atmos_dyn"
               paths="atmos_drivers/coupled
                      atmos_cubed_sphere/driver/coupled
                      atmos_cubed_sphere/model
                      atmos_cubed_sphere/model_nh_null
                      atmos_cubed_sphere/tools"
               requires="fms atmos_phys">
      <source versionControl="git"
              root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)">
          atmos_drivers.git
          atmos_cubed_sphere.git
        </codeBase>
        <!-- This csh section is needed for systems that use an older
             git version that doesn't support cloning a specific tag
             directly. -->
        <csh><![CDATA[
          ( cd atmos_drivers && git checkout $(RELEASE) )
          ( cd atmos_cubed_sphere && git checkout $(RELEASE) )
          ]]>
        </csh>
      </source>
      <compile>
        <cppDefs>
          -Duse_netCDF
          -Duse_libMPI
          -DSPMD
          -DLAND_BND_TRACERS
          -DUSE_OCEAN_BGC
          -Duse_shared_pointers
          -DENABLE_ODA
          $(INTERNAL_NML_FLAG)
        </cppDefs>
      </compile>
    </component>

    <component name="ice"
               paths="ice_sis
                      ice_param"
               requires="fms">
      <source versionControl="git"
              root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)">
          ice_sis.git
          ice_param.git
        </codeBase>
        <csh><![CDATA[
          ( cd ice_sis && git checkout $(RELEASE) )
          ( cd ice_param && git checkout $(RELEASE) )
          ]]>
        </csh>
      </source>
      <compile>
        <cppDefs>
          $(INTERNAL_NML_FLAG)
        </cppDefs>
      </compile>
    </component>

    <component name="land"
               paths="land_lad2"
               requires="fms">
      <source versionControl="git"
              root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)">
          land_lad2.git
        </codeBase>
      </source>
      <compile>
        <cppDefs>
          -DUSE_LOG_DIAG_FIELD_INFO
          -Dintel14_bug
          $(INTERNAL_NML_FLAG)
        </cppDefs>
        <csh><![CDATA[
sed -e 's/<TAB>/\t/' >land/Makefile-cpp <<EOF
CPPDEFS = -DUSE_LOG_DIAG_FIELD_INFO -Dintel14_bug $(INTERNAL_NML_FLAG)
FRETARGET = $(target)
ifneq (\$(findstring hdf5,\${FRETARGET}),)
else
  CPPDEFS += -Duse_LARGEFILE
endif

vpath %.F90 \$(shell find ${src_dir}/land_lad2 -type d)

land/%.f90: %.F90
<TAB>cpp \${CPPDEFS} -C -v -I ${src_dir}/shared/include -o \$@ \$<

EOF

foreach foo ( `find ${src_dir}/land_lad2 -type f -name \*.F90` )
  make -f land/Makefile-cpp land/$foo:t:r.f90
end
find ${bld_dir}/land -type f -name \*.f90 > land/pathnames_land
          ]]>
        </csh>
      </compile>
    </component>

    <component name="coupler"
               paths="coupler"
               requires="fms mom5 atmos_dyn atmos_phys land ice">
      <source versionControl="git"
              root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)">
          coupler.git
        </codeBase>
        <!-- This csh section is needed for systems that use an older
             git version that doesn't support cloning a specific tag
             directly. -->
        <csh><![CDATA[
          ( cd coupler && git checkout $(RELEASE) )
          ]]>
        </csh>
      </source>
      <compile>
        <cppDefs>
          $(INTERNAL_NML_FLAG)
        </cppDefs>
      </compile>
    </component>
  </experiment>

  <experiment name="CM2.5_FLOR_A06_p1_ECDA_2.1Rv3.1_01_MON__YEAR_" inherit="CM2.5_exec">
    <!-- Testing metadata tags bronx-11 -->
    <!-- 
    <publicMetadata>
      <project>project</project>
      <branchTime>0.0</branchTime>
      <experimentID>experiment_id</experimentID>
      <forcing>forcing</forcing>
      <startTime>startTime-0.0</startTime>
      <endTime>2011</endTime>
      <parentExperimentID>parent_experiment_id</parentExperimentID>
      <parentExperimentRIP>parent_experiment_rip</parentExperimentRIP>
      </publicMetadata> -->
      
      <!-- end testing metadata tags - bronx-11 -->
    <realization r="1:$(ENS_SIZE)" i="1" p="1" />
    <description communityProject="NMME"
                 communityModel="GFDL-FLORB01"
                 communityModelID="FLORA06-P1-ECDA-v3.1-$(MM)$(YEAR)"
                 communityExperimentName="FLORA06-P1-ECDA-3.1"
                 communityExperimentID="FLORA06-P1-ECDA-3.1-$(MM)$(YEAR)">
      CM2.5 FLOR A06 seasonal forecast run for $(MON) $(YEAR)
    </description>
    <description>stuff</description>
     <communityComment>
      GFDL experiment name = CM2.5_FLOR_A06_p1_ECDA_2.1Rv3.1_01$(MON)$(YEAR). Community experiment name = FLORA06-P1-ECDA-3.1. Initial conditions for this experiment were taken from CM2.1R-ECDA-v3.1-1960. Forcing used is  GHG,SD,Oz,LU,Sl,Vl,SS,BC,MD,OC (GHG includes CO2, CH4, N2O, CFC11, CFC12, HCFC22, CFC113)(SS, BC, MD, OC,Time Varying through 2004, fixed thereafter at 2004). <!-- hello -->
    </communityComment>
    <scenario communityForcing="GHG,SD,Oz,LU,Sl,Vl,SS,BC,MD,OC (GHG includes CO2, CH4, N2O, CFC11, CFC12, HCFC22, CFC113)(SS, BC, MD, OC,Time Varying through 2004, fixed thereafter at 2004)"
              startTime="$(YEAR)-$(MM)-01"
              endTime="$(END_TIME)"
              parentExperimentID="CM2.1R-ECDA-v3.1-1960"
              parentExperimentRIP="CM2.1R-ECDA-v3.1-1960"
              branch_time="0.0" />
    <executable file="$CDATA/gfdl_G/NMME/execs/CM2.5/ulm_201505/ncrc3.intel-prod-openmp/exec/fms_CM2.5_exec.x"/>
    <input>
      <dataFile label="input" target="INPUT/">
        <dataSource site="$(site)">$(FMS_ARCHIVE_ROOT)/CM2.5/inputs/CM2.5_C02_INPUT_ulm_201505.tar</dataSource>
      </dataFile>
      <dataFile label="initCond" target="INPUT/">
        <dataSource site="$(site)">${CDATA}/gfdl_G/NMME/IC/CM2.5_FLOR_p1/$(YEAR)$(MM)01.tar</dataSource>
      </dataFile>
      <dataFile label="gridSpec" target="INPUT/">
        <dataSource site="ncrc">${CDATA}/gfdl_G/blue_flower/bf_mosaics_v2.tar</dataSource>
        <dataSource site="gfdl">/archive/nmme/blue_flower/bf_mosaics_v2.tar</dataSource>
      </dataFile>
      <dataFile label="namelist" target="input.nml">
        <dataSource site="ncrc">$CDATA/gfdl_G/NMME/INPUTS/namelists/CM2.1R_ocean_ulm_201505_nml</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="diag_table">
        <dataSource site="ncrc">${CDATA}/gfdl_G/NMME/INPUTS/diagTables/diag_table_production_LM3land.p1_3</dataSource>
        <dataSource site="gfdl">/archive/nmme/NMME/INPUTS/diagTables/diag_table_production_LM3land.p1_3</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/aerosol.climatology.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/aerosol.climatology_1855-2005_rcp45_2015-2105.nc
      </dataFile>
      <dataFile label="input" target="INPUT/o3.climatology.nc">
        ${CDATA}/gfdl_G/NMME/INPUTS/CM2.1R/CM3_CMIP5_ACC_SPARC_1850-2009_T3M+2010-2099_RCP4.5_T3M_O3.nc
      </dataFile>
      <dataFile label="input" target="INPUT/lean_solar_spectral_data.dat">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/CMIP5_1610-2300_monthly_data_b18
      </dataFile>
      <dataFile label="input" target="INPUT/esf_sw_input_data_n38b18">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/esf_sw_input_data_n38b18_2000_version_ckd2.1.lean.nov89.ref.with.ch4.and.n2o
      </dataFile>
      <dataFile label="input" target="INPUT/co2_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/co2_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/ch4_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/ch4_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/n2o_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/n2o_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f11_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f11_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f12_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f12_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f113_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f113_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f22_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f22_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/asmsw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/asmsw_data.nc
      </dataFile>
      <dataFile label="input" target="INPUT/extlw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/extlw_data.nc
      </dataFile>
      <dataFile label="input" target="INPUT/extsw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/extsw_data.nc
      </dataFile>
      <dataFile label="input" target="INPUT/omgsw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/omgsw_data.nc
      </dataFile>
      <dataFile label="input" target="INPUT/">
        ${CDATA}/gfdl_G/blue_flower/bf_input_files.tar
      </dataFile>
      <dataFile label="input" target="INPUT/">
        ${CDATA}/gfdl_G/blue_flower/bf_river_data.tar
      </dataFile>
      <dataFile label="test_input" target="INPUT/">
        $CDATA/gfdl_G/blue_flower/bf_river_data.tar <!-- Comment test -->
        $CTMP/$USER/test.tar <!-- Second comment test -->
<!-- Third test -->        $CPERM/$USER/test.tar <!-- FOURTH TEST 
-->        /lustre/f1/$USER/test2.tar
        /lustre/f1/unswept/$USER/test2.tar <!-- fifth --> <!-- test -->
        /lustre/f1/pdata/gfdl_G/test3.tar
        /lustre/f1/Kristopher.Rand/test4.tar <!-- Shouldn't be affected -->
<!-- Sixth test -->      </dataFile> <!-- Seventh test -->
      <fieldTable>
"prog_tracers","ocean_mod","temp"
horizontal-advection-scheme = mdppm
vertical-advection-scheme = mdppm
restart_file  = ocean_temp_salt.res.nc
ppm_hlimiter = 3
ppm_vlimiter = 3
/
"prog_tracers","ocean_mod","salt"
horizontal-advection-scheme = mdppm
vertical-advection-scheme = mdppm
restart_file  = ocean_temp_salt.res.nc
ppm_hlimiter = 3
ppm_vlimiter = 3
/
"tracer_packages","ocean_mod","ocean_age_tracer"
names = global
const_init_tracer = .true.
horizontal-advection-scheme = mdppm
vertical-advection-scheme = mdppm
ppm_hlimiter = 3
ppm_vlimiter = 3
restart_file = ocean_age.res.nc
min_tracer_limit=0.0
/
"namelists","ocean_mod","ocean_age_tracer/global"
slat = -90.0
nlat =  90.0
wlon =   0.0
elon = 360.0
/
# added by FRE: sphum must be present in atmos
# specific humidity for moist runs
 "TRACER", "atmos_mod", "sphum"
           "longname",     "specific humidity"
           "units",        "kg/kg"
       "profile_type", "fixed", "surface_value=3.e-6" /
# prognotic cloud scheme tracers
  "TRACER", "atmos_mod", "liq_wat"
            "longname",     "cloud liquid specific humidity"
            "units",        "kg/kg" /
  "TRACER", "atmos_mod", "ice_wat"
            "longname",     "cloud ice water specific humidity"
            "units",        "kg/kg" /
  "TRACER", "atmos_mod", "cld_amt"
            "longname",     "cloud fraction"
            "units",        "none" /
# test tracer for radon
# "TRACER", "atmos_mod", "radon"
#           "longname",     "radon test tracer"
#           "units",        "kg/kg" /
       "TRACER", "land_mod", "sphum"
       "longname",     "specific humidity"
       "units",        "kg/kg" /
       "xland_mix","ocean_mod","xland_mix"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=146,jxland_2=146,kxland_1=1,kxland_2=28,vxland=0.55e6"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=147,jxland_2=147,kxland_1=1,kxland_2=28,vxland=0.55e6"
"xland","Black-Med","ixland_1=305,ixland_2=309,jxland_1=151,jxland_2=152,kxland_1=1,kxland_2=6,vxland=0.01e6"
"xland","Black-Med","ixland_1=306,ixland_2=309,jxland_1=151,jxland_2=153,kxland_1=1,kxland_2=6,vxland=0.01e6"
"xland","Red Sea","ixland_1=322,ixland_2=324,jxland_1=123,jxland_2=120,kxland_1=1,kxland_2=20,vxland=0.18e6"
"xland","Red Sea","ixland_1=323,ixland_2=324,jxland_1=123,jxland_2=119,kxland_1=1,kxland_2=20,vxland=0.18e6"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=168,jxland_2=166,kxland_1=1,kxland_2=2,vxland=0.015e6"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=167,jxland_2=165,kxland_1=1,kxland_2=2,vxland=0.015e6"
"xland","NEBaltic","ixland_1=300,ixland_2=302,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,vxland=0.003e6"
"xland","NEBaltic","ixland_1=301,ixland_2=303,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,vxland=0.003e6"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=173,jxland_2=171,kxland_1=1,kxland_2=12,vxland=0.45e6"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=172,jxland_2=170,kxland_1=1,kxland_2=12,vxland=0.45e6"
"xland","Boothia-Fox","ixland_1=199,ixland_2=203,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,vxland=0.035e6"
"xland","Boothia-Fox","ixland_1=198,ixland_2=202,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,vxland=0.035e6"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=137,jxland_2=136,kxland_1=1,kxland_2=4,vxland=0.05e6"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=136,jxland_2=135,kxland_1=1,kxland_2=4,vxland=0.05e6"/


"xland_insert","ocean_mod","xland_insert"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=146,jxland_2=146,kxland_1=1,kxland_2=18,tauxland=86400.0"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=147,jxland_2=147,kxland_1=1,kxland_2=18,tauxland=86400.0"
"xland","Black-Med","ixland_1=305,ixland_2=309,jxland_1=151,jxland_2=152,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","Black-Med","ixland_1=306,ixland_2=309,jxland_1=151,jxland_2=153,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","Red Sea","ixland_1=322,ixland_2=324,jxland_1=123,jxland_2=120,kxland_1=1,kxland_2=20,tauxland=86400.0"
"xland","Red Sea","ixland_1=323,ixland_2=324,jxland_1=123,jxland_2=119,kxland_1=1,kxland_2=20,tauxland=86400.0"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=168,jxland_2=166,kxland_1=1,kxland_2=2,tauxland=86400.0"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=167,jxland_2=165,kxland_1=1,kxland_2=2,tauxland=86400.0"
"xland","NEBaltic","ixland_1=300,ixland_2=302,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","NEBaltic","ixland_1=301,ixland_2=303,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=173,jxland_2=171,kxland_1=1,kxland_2=12,tauxland=86400.0"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=172,jxland_2=170,kxland_1=1,kxland_2=12,tauxland=86400.0"
"xland","Boothia-Fox","ixland_1=199,ixland_2=203,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,tauxland=86400.0"
"xland","Boothia-Fox","ixland_1=198,ixland_2=202,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,tauxland=86400.0"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=137,jxland_2=136,kxland_1=1,kxland_2=4,tauxland=86400.0"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=136,jxland_2=135,kxland_1=1,kxland_2=4,tauxland=86400.0"/


"diff_cbt_enhance","ocean_mod","diff_cbt_enhance"
"diffcbt","Gibraltar","itable=274,jtable=146,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Gibraltar","itable=276,jtable=146,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Gibraltar","itable=274,jtable=147,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Gibraltar","itable=276,jtable=147,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=305,jtable=151,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=309,jtable=152,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=306,jtable=151,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=309,jtable=153,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=322,jtable=123,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=324,jtable=120,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=323,jtable=123,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=324,jtable=119,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=290,jtable=168,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=291,jtable=166,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=290,jtable=167,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=291,jtable=165,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=300,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=302,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=301,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=303,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=211,jtable=173,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=212,jtable=171,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=211,jtable=172,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=212,jtable=170,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=199,jtable=188,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=203,jtable=187,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=198,jtable=188,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=202,jtable=187,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=336,jtable=137,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=338,jtable=136,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=336,jtable=136,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=338,jtable=135,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"/
      </fieldTable>
      <dataTable>
"ICE", "sic_obs"        , "SIC"         , "./INPUT/sst_ice_clim.nc"      , "bicubic" ,  0.0
"ICE", "sit_obs"        , "SIT"         , "./INPUT/sst_ice_clim.nc"      , "bicubic" ,  0.0
"ICE", "sst_obs"        , "SST"         , "./INPUT/sst_ice_clim.nc"      , "bicubic" ,  1.0
      </dataTable>
      <namelist name="aerosol_nml">
        use_aerosol_timeseries = .true.
        time_varying_species = T,T,T,T,T,T,T,T,T,T,T,T
        aerosol_dataset_entry =  $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
        family_names = "small_dust", "large_dust", "sulfate", "aerosol"
        in_family1 = F,F,F,T,T,T,T,F,T,F,F,F,
        in_family2 = F,F,F,F,F,F,F,F,F,T,T,T,
        in_family3 = T,F,F,F,F,F,F,F,F,F,F,F,
        in_family4 = T,T,T,T,T,T,T,T,T,T,T,T,
        data_names = "so4", "black_carbon", "organic_carbon", "dust_0.1",
                     "dust_0.2", "dust_0.4", "dust_0.8", "sea_salt",
                     "dust_1.0", "dust_2.0", "dust_4.0", "dust_8.0",
        filename = "aerosol.climatology.nc"
      </namelist>
      <namelist name="atmosphere_nml">
        physics_window = 0,0,
      </namelist>
      <namelist name="aerosolrad_package_nml">
        using_volcanic_lw_files = .false.,
        lw_ext_filename = "extlw_data.nc"
        lw_ext_root = "extlw"
        lw_asy_filename = "             "
        lw_asy_root = "     "
        lw_ssa_filename = "             "
        lw_ssa_root = "     "
        using_volcanic_sw_files = .false.,
        sw_ext_filename = "extsw_data.nc"
        sw_ext_root = "extsw"
        sw_ssa_filename = "omgsw_data.nc"
        sw_ssa_root = "omgsw"
        sw_asy_filename = "asmsw_data.nc"
        sw_asy_root = "asmsw"
        do_lwaerosol = .true.,
        do_swaerosol = .true.,
        aerosol_data_set = 'shettle_fenn',
        optical_filename = "aerosol.optical.dat",
        aerosol_optical_names = "sulfate_30%", "sulfate_35%", "sulfate_40%", "sulfate_45%",
                                "sulfate_50%", "sulfate_55%", "sulfate_60%", "sulfate_65%",
                                "sulfate_70%", "sulfate_75%", "sulfate_80%", "sulfate_82%",
                                "sulfate_84%", "sulfate_86%", "sulfate_88%", "sulfate_90%",
                                "sulfate_91%", "sulfate_92%", "sulfate_93%", "sulfate_94%",
                                "sulfate_95%", "sulfate_96%", "sulfate_97%", "sulfate_98%",
                                "sulfate_99%", "sulfate_100%","organic_carbon","soot",
                                "sea_salt",    "dust_0.1",    "dust_0.2",    "dust_0.4",
                                "dust_0.8",    "dust_1.0",    "dust_2.0",    "dust_4.0",
                                "dust_8.0"
      </namelist>
      <namelist name="ozone_nml">
        basic_ozone_type = 'time_varying' ,
        ozone_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        data_name = "ozone",
        filename = "o3.climatology.nc"
      </namelist>
      <namelist name="radiation_driver_diag_nml">
        all_step_diagnostics = .true.,
      </namelist>
      <namelist name="shortwave_driver_nml">
        time_varying_solar_constant = .true.,
        solar_dataset_entry = $(YEAR),$(MM),1,0,0,0,
        do_cmip_diagnostics = .true.,
        swform = 'esfsw99'
      </namelist>
      <namelist name="radiative_gases_nml">
        verbose = 3
        gas_printout_freq = 240

        time_varying_co2 = .true.,
        co2_variation_type = 'linear',
        co2_dataset_entry = $(YEAR),$(MM),1,0,0,0,
        co2_specification_type = 'time_series',
        co2_floor = 100.0E-06,
        co2_ceiling = 1600.0E-06,
        co2_data_source = 'input'
        calc_co2_tfs_on_first_step = .false.,
        calc_co2_tfs_monthly = .true.,
        co2_tf_time_displacement = 360.0,

        time_varying_ch4 = .true.,
        ch4_variation_type = 'linear'
        ch4_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        ch4_specification_type = 'time_series'
        ch4_data_source = 'input'
        calc_ch4_tfs_on_first_step = .false.,
        calc_ch4_tfs_monthly = .true.,
        ch4_tf_time_displacement = 360.0,

        time_varying_n2o = .true.,
        n2o_variation_type = 'linear'
        n2o_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        n2o_specification_type = 'time_series'
        n2o_data_source = 'input'
        calc_n2o_tfs_on_first_step = .false.,
        calc_n2o_tfs_monthly = .true.,
        n2o_tf_time_displacement = 360.0,

        time_varying_f11 = .true.,
        f11_variation_type = 'linear'
        f11_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f11_specification_type = 'time_series'
        f11_data_source = 'input'

        time_varying_f12 = .true.,
        f12_variation_type = 'linear'
        f12_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f12_specification_type = 'time_series'
        f12_data_source = 'input'

        time_varying_f113 = .true.,
        f113_variation_type = 'linear'
        f113_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f113_specification_type = 'time_series'
        f113_data_source = 'input'

        time_varying_f22 = .true.,
        f22_variation_type = 'linear'
        f22_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f22_specification_type = 'time_series'
        f22_data_source = 'input'
      </namelist>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = $(YEAR),$(MM),1,0,0,0,
        calendar = 'julian',
        dt_cpld = 3600,
        dt_atmos = 1200,
        do_atmos = .true.,
        do_land = .true.,
        do_ice = .true.,
        do_ocean = .true.,
        atmos_npes = 216,
        atmos_nthreads = 1,
        ocean_npes = 16,
        concurrent = .true.
        use_lag_fluxes=.true.
        check_stocks=0
      </namelist>
      <namelist name="fv_core_nml">
        layout   = 6,6
        io_layout = 3,3
        npx      = 181,
        npy      = 181,
        ntiles   = 6,
        npz      = 32,
        k_split  = 2,
        n_split  = 10,
        hord_dp =  13,
        dddmp = 0.0,
        d2_bg = 0.0,
        d4_bg = 0.16,
        d_ext = 0.02,
        tau = 30.,
        a2b_ord  = 4,
        adjust_dry_mass = .FALSE.
        consv_te = 0.7,
        fill = .true.
        fill_dp = .true.
        print_freq = 0,
        grid_type = 0,
        z_tracer=.false.
        beta=0.25
        nord=3
      </namelist>
      <namelist name="ice_albedo_nml">
        t_range = 10.
      </namelist>
      <namelist name="ice_model_nml">
        nsteps_dyn=72
        nsteps_adv=1
        num_part = 6
        wd_turn = 0.0
        spec_ice=.false.
        ice_bulk_salin = 0.005
        alb_sno = 0.85
        alb_ice = 0.65
        t_range_melt = 1.0
        cm2_bugs = .false.
        do_icebergs = .false.
        add_diurnal_sw = .false.
        h_lo_lim = 1.e-10
        channel_viscosity=5.e5
        layout=0,3
        io_layout=3,3
      </namelist>
      <namelist name="icebergs_nml">
        time_average_weight = .false.
        speed_limit=0.50
        verbose=.TRUE.
        traj_sample_hrs=0
        verbose_hrs=120
        use_roundoff_fix=.true. ! default is true
      </namelist>
      <namelist name="land_model_nml">
        layout = 6,6
        io_layout = 3,3
      </namelist>
      <namelist name="strat_cloud_nml">
        U00 = 0.800,
        U00_profile = .true.,
        rthresh = 8.0,
        Dmin = 1.0e-07,
        n_land = 300.e6,
        diff_thresh = 0.1,
        mc_thresh = 0.001,
        eros_scale = 1.e-6,
        eros_choice = .true.,
        eros_scale_c = 3.e-5,
        eros_scale_t = 5.e-5,
        super_choice = .true.,
        tracer_advec = .true.
      </namelist>
      <namelist name="ocean_shortwave_gfdl_nml">
        use_this_module=.true.
        debug_this_module=.false.
        read_chl=.true.
        zmax_pen=300.0
        enforce_sw_frac=.true.
        override_f_vis=.false.
        sw_morel_fixed_depths=.true.
        optics_morel_antoine=.false.
        optics_manizza=.true.
      </namelist>
      <namelist name="ocean_sigma_transport_nml">
        use_this_module=.false.
        sigma_diffusion_on=.true.
        sigma_advection_on=.false.
        sigma_advection_sgs_only=.false.
        sigma_just_in_bottom_cell=.true.
        tmask_sigma_on=.false.
        sigma_diffusivity_ratio=1.e-6
        tracer_mix_micom=.true.
        vel_micom=0.50
        sigma_umax=0.01
        smooth_sigma_thickness=.true.
        smooth_sigma_velocity=.true.
        smooth_velmicom=0.2
        thickness_sigma_layer= 100.0
        thickness_sigma_max  = 100.0
        thickness_sigma_min  = 100.0
      </namelist>
      <namelist name="ocean_albedo_nml">
        ocean_albedo_option = 5
      </namelist>
      <namelist name="ocean_vert_kpp_mom4p1_nml">
        use_this_module=.true.
        diff_cbt_iw=1.34e-7
        visc_cbu_iw=1.0e-4
        double_diffusion=.true.
        Ricr=0.3
        smooth_blmc=.true.
      </namelist>
      <namelist name="ocean_vert_mix_nml">
        aidif=1.0
        vert_mix_scheme='kpp_mom4p1'
        vert_diff_back_via_max =.true.
        use_diff_cbt_table=.false.
        bryan_lewis_diffusivity=.false.
        bryan_lewis_lat_depend=.false.
        hwf_diffusivity     = .false.
        hwf_min_diffusivity = 2.e-6
        hwf_N0_2Omega       = 20.0
      </namelist>
      <namelist name="ocean_vert_tidal_nml">
        use_this_module=.true.
        use_wave_dissipation=.true.
        use_drag_dissipation=.true.
        use_legacy_methods=.false.
        read_wave_dissipation=.false.
        fixed_wave_dissipation=.false.
        read_tide_speed=.true.
        read_roughness=.true.
        reading_roughness_amp=.true.
        reading_roughness_length=.false.
        roughness_scale=12e3
        tide_speed_data_on_t_grid=.true.
        drhodz_min=1e-10
        mixing_efficiency_n2depend=.true.
        max_wave_diffusivity=100.0e-4
        wave_energy_flux_max=0.10
        decay_scale=500.0
        shelf_depth_cutoff=-1000.0
        background_diffusivity=0.0
        background_viscosity=1.e-4
      </namelist>
      <namelist name="ocean_lapgen_friction_nml">
        use_this_module=.true.
        k_smag_iso=0.0
        k_smag_aniso=0.0
        bottom_5point=.true.
        vel_micom_iso=0.10
        viscosity_scale_by_rossby=.true.
        viscosity_scale_by_rossby_power=4.0
        viscosity_ncar=.false.
        restrict_polar_visc=.true.
        restrict_polar_visc_lat=60.0
        restrict_polar_visc_ratio=0.35
      </namelist>
      <namelist name="ocean_bihgen_friction_nml">
        use_this_module=.true.
        k_smag_iso=2.0
        k_smag_aniso=0.0
        vel_micom_iso=0.04
        vel_micom_aniso=0.0
        vel_micom_bottom=0.01
        eq_vel_micom_iso=0.0
        eq_vel_micom_aniso=0.0
        eq_lat_micom=0.0
        visc_crit_scale=.25
        equatorial_zonal=.false.
        bottom_5point=.true.
        ncar_boundary_scaling=.true.
        ncar_rescale_power=2
        ncar_vconst_4=2.e-8
        ncar_vconst_5=5
      </namelist>
      <namelist name="ensemble_nml">
        ensemble_size = $(ENS_SIZE)
      </namelist>
      <namelist name="ocean_model_nml">
        impose_init_from_restart=.false.
        time_tendency='twolevel'
        vertical_coordinate='zstar'
        baroclinic_split = 1
        surface_height_split = 1
        barotropic_split = 80
        debug=.false.
        layout=4,4
        io_layout=1,4
        dt_ocean=3600
        cmip_units=.false. ! for spinups use default setting of false
      </namelist>
      <csh><![CDATA[
        ]]>
      </csh>
    </input>

    <runtime>
      <production simTime="1" units="years" npes="232" runTime="10:00:00">
        <segment simTime="1" units="years" runTime="10:00:00"/>
      </production>
    </runtime>

    <postProcess npes="8" combine="chained">
      <refineDiag script="/home/nmme/ensemble_splitter/FLOR_refineDiag.csh"/>
      <csh><![CDATA[
        cd $work/RESTART
        ncrcat icebergs.res.nc.* icebergs.res.nc
        rm -f icebergs.res.nc.*

        cd $work
        ncrcat iceberg_trajectories.nc.* iceberg_trajectories.nc
        rm -f iceberg_trajectories.nc.*
        ]]>
      </csh>

      <component type="atmos_month_aer" source="atmos_month_aer" cubicToLatLon="360,576">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="atmos_daily" zInterp="ncep"   source="atmos_daily" cubicToLatLon="360,576" >
        <timeSeries freq="daily" source="atmos_daily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="atmos" zInterp="ncep" source="atmos_month" cubicToLatLon="360,576" >
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_ANALYSIS)" script="$(ANALYSIS_SCRIPT) -c atmos $(AN_ATMOS_VARS_OPT) -t $(MM)" />
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>

      <component type="ocean" source="ocean_month">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_ANALYSIS)" script="$(ANALYSIS_SCRIPT) -c ocean $(AN_OCEAN_VARS_OPT) -t $(MM)" />
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="ocean_scalar" source="ocean_scalar">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="ocean_daily" source="ocean_daily">
        <timeSeries freq="daily" source="ocean_daily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>

      <component type="land_inst_month" source="land_inst_month" interpMethod="conserve_order1" cubicToLatLon="360,576">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="land" source="land_month" interpMethod="conserve_order1" cubicToLatLon="360,576">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="20yr"/>
      </component>

      <component type="ice_daily" source="ice_daily">
        <timeSeries freq="daily" source="ice_daily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="ice" source="ice_month">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
    </postProcess>
  </experiment>

  <experiment name="CM2.5_FLOR_B01_FA_HAD13_ECDA_2.1Rv3.1_01_MON__YEAR_" inherit="CM2.5_exec">
    <realization r="1:$(ENS_SIZE)" i="1" p="1" />
    <description communityProject="NMME"
                 communityModel="GFDL-FLORB01"
                 communityModelID="FLORB01-FA-HAD13-ECDA-v3.1-$(MM)$(YEAR)"
                 communityExperimentName="FLORB01-FA-HAD13-ECDA-3.1"
                 communityExperimentID="FLORB01-FA-HAD13-ECDA-3.1-$(MM)$(YEAR)">
      CM2.5 FLOR B01 HAD13 seasonal forecast for $(MON) $(YEAR)
    </description>
    <communityComment>
      GFDL experiment name = CM2.5_FLOR_A06_p1_ECDA_2.1Rv3.1_01$(MON)$(YEAR). Community experiment name = FLORA06-P1-ECDA-3.1. Initial conditions for this experiment were taken from CM2.1R-ECDA-v3.1-1960. Forcing used is  GHG,SD,Oz,LU,Sl,Vl,SS,BC,MD,OC (GHG includes CO2, CH4, N2O, CFC11, CFC12, HCFC22, CFC113)(SS, BC, MD, OC,Time Varying through 2004, fixed thereafter at 2004).
    </communityComment>
    <scenario communityForcing="GHG,SD,Oz,LU,Sl,Vl,SS,BC,MD,OC (GHG includes CO2, CH4, N2O, CFC11, CFC12, HCFC22, CFC113)(SS, BC, MD, OC,Time Varying through 2004, fixed thereafter at 2004)"
              startTime="$(YEAR)-$(MM)-01"
              endTime="$(END_TIME)"
              parentExperimentID="CM2.1R-ECDA-v3.1-1960"
              parentExperimentRIP="CM2.1R-ECDA-v3.1-1960"
              branch_time="0.0" />
    <executable file="$CDATA/gfdl_G/NMME/execs/CM2.5/ulm_201505/ncrc3.intel-prod-openmp/exec/fms_CM2.5_exec.x"/>
    <input>
      <dataFile label="initCond" target="INPUT/">
        <dataSource site="$(site)">${CDATA}/gfdl_G/NMME/IC/CM2.5_FLOR_p1/$(YEAR)$(MM)01.tar</dataSource>
      </dataFile>
      <dataFile label="gridSpec" target="INPUT/">
        <dataSource site="ncrc">${CDATA}/gfdl_G/blue_flower/bf_mosaics_v2.tar</dataSource>
        <dataSource site="gfdl">/archive/nmme/blue_flower/bf_mosaics_v2.tar</dataSource>
      </dataFile>
       <dataFile label="namelist" target="input.nml">
        <dataSource site="ncrc">$CDATA/gfdl_G/NMME/INPUTS/namelists/CM2.1R_FA_HAD07_tau_ocean_ulm_201505_nml</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="diag_table">
        <dataSource site="ncrc">$CDATA/gfdl_G/NMME/INPUTS/diagTables/diag_table_production_LM3land.p1_3</dataSource>
        <dataSource site="gfdl">/archive/nmme/NMME/INPUTS/diagTables/diag_table_production_LM3land.p1_3</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/">
        <dataSource site="$(site)">$(FMS_ARCHIVE_ROOT)/CM2.5/inputs/CM2.5_C02_INPUT_ulm_201505.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/temp_sfc_correction.nc">
        <dataSource site="$(site)">
          ${CDATA}/gfdl_G/CM2.5/FLOR_B01_restore_HadlSST_1971-2012_AllForc_plus_TAU.sfc_hflux_restore_1979-2012.zero_mean_smo.nc
        </dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/salt_sfc_correction.nc">
        <dataSource site="$(site)">
          ${CDATA}/gfdl_G/CM2.5/FLOR_B01_restore_HadlSST_1971-2012_AllForc_plus_TAU.pme_restore_1979-2012.zero_mean_smo.nc
        </dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/tau_x_correction.nc">
        <dataSource site="$(site)">${CDATA}/gfdl_G/CM2.5/diff_annual_cycle.iews-tau_x_1979-2012_AllForc_smo.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/tau_y_correction.nc">
        <dataSource site="$(site)">${CDATA}/gfdl_G/CM2.5/diff_annual_cycle.inss-tau_y_1979-2012_AllForc_smo.nc</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/aerosol.climatology.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/aerosol.climatology_1855-2005_rcp45_2015-2105.nc
      </dataFile>
      <dataFile label="input" target="INPUT/o3.climatology.nc">
        ${CDATA}/gfdl_G/NMME/INPUTS/CM2.1R/CM3_CMIP5_ACC_SPARC_1850-2009_T3M+2010-2099_RCP4.5_T3M_O3.nc
      </dataFile>
      <dataFile label="input" target="INPUT/lean_solar_spectral_data.dat">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/CMIP5_1610-2300_monthly_data_b18
      </dataFile>
      <dataFile label="input" target="INPUT/esf_sw_input_data_n38b18">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/esf_sw_input_data_n38b18_2000_version_ckd2.1.lean.nov89.ref.with.ch4.and.n2o
      </dataFile>
      <dataFile label="input" target="INPUT/co2_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/co2_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/ch4_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/ch4_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/n2o_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/n2o_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f11_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f11_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f12_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f12_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f113_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f113_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f22_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f22_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/asmsw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/asmsw_data.nc
      </dataFile>
      <dataFile label="input" target="INPUT/extlw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/extlw_data.nc
      </dataFile>
      <dataFile label="input" target="INPUT/extsw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/extsw_data.nc
      </dataFile>
      <dataFile label="input" target="INPUT/omgsw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/omgsw_data.nc
      </dataFile>
       <dataFile label="input" target="INPUT/">
        ${CDATA}/gfdl_G/blue_flower/bf_input_files.tar
      </dataFile>
      <dataFile label="input" target="INPUT/">
        ${CDATA}/gfdl_G/blue_flower/bf_river_data.tar
      </dataFile>
      <fieldTable>
"prog_tracers","ocean_mod","temp"
horizontal-advection-scheme = mdppm
vertical-advection-scheme = mdppm
restart_file  = ocean_temp_salt.res.nc
ppm_hlimiter = 3
ppm_vlimiter = 3
/
"prog_tracers","ocean_mod","salt"
horizontal-advection-scheme = mdppm
vertical-advection-scheme = mdppm
restart_file  = ocean_temp_salt.res.nc
ppm_hlimiter = 3
ppm_vlimiter = 3
/
"tracer_packages","ocean_mod","ocean_age_tracer"
names = global
const_init_tracer = .true.
horizontal-advection-scheme = mdppm
vertical-advection-scheme = mdppm
ppm_hlimiter = 3
ppm_vlimiter = 3
restart_file = ocean_age.res.nc
min_tracer_limit=0.0
/
"namelists","ocean_mod","ocean_age_tracer/global"
slat = -90.0
nlat =  90.0
wlon =   0.0
elon = 360.0
/
# added by FRE: sphum must be present in atmos
# specific humidity for moist runs
 "TRACER", "atmos_mod", "sphum"
           "longname",     "specific humidity"
           "units",        "kg/kg"
       "profile_type", "fixed", "surface_value=3.e-6" /
# prognotic cloud scheme tracers
  "TRACER", "atmos_mod", "liq_wat"
            "longname",     "cloud liquid specific humidity"
            "units",        "kg/kg" /
  "TRACER", "atmos_mod", "ice_wat"
            "longname",     "cloud ice water specific humidity"
            "units",        "kg/kg" /
  "TRACER", "atmos_mod", "cld_amt"
            "longname",     "cloud fraction"
            "units",        "none" /
# test tracer for radon
# "TRACER", "atmos_mod", "radon"
#           "longname",     "radon test tracer"
#           "units",        "kg/kg" /
       "TRACER", "land_mod", "sphum"
       "longname",     "specific humidity"
       "units",        "kg/kg" /
       "xland_mix","ocean_mod","xland_mix"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=146,jxland_2=146,kxland_1=1,kxland_2=28,vxland=0.55e6"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=147,jxland_2=147,kxland_1=1,kxland_2=28,vxland=0.55e6"
"xland","Black-Med","ixland_1=305,ixland_2=309,jxland_1=151,jxland_2=152,kxland_1=1,kxland_2=6,vxland=0.01e6"
"xland","Black-Med","ixland_1=306,ixland_2=309,jxland_1=151,jxland_2=153,kxland_1=1,kxland_2=6,vxland=0.01e6"
"xland","Red Sea","ixland_1=322,ixland_2=324,jxland_1=123,jxland_2=120,kxland_1=1,kxland_2=20,vxland=0.18e6"
"xland","Red Sea","ixland_1=323,ixland_2=324,jxland_1=123,jxland_2=119,kxland_1=1,kxland_2=20,vxland=0.18e6"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=168,jxland_2=166,kxland_1=1,kxland_2=2,vxland=0.015e6"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=167,jxland_2=165,kxland_1=1,kxland_2=2,vxland=0.015e6"
"xland","NEBaltic","ixland_1=300,ixland_2=302,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,vxland=0.003e6"
"xland","NEBaltic","ixland_1=301,ixland_2=303,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,vxland=0.003e6"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=173,jxland_2=171,kxland_1=1,kxland_2=12,vxland=0.45e6"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=172,jxland_2=170,kxland_1=1,kxland_2=12,vxland=0.45e6"
"xland","Boothia-Fox","ixland_1=199,ixland_2=203,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,vxland=0.035e6"
"xland","Boothia-Fox","ixland_1=198,ixland_2=202,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,vxland=0.035e6"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=137,jxland_2=136,kxland_1=1,kxland_2=4,vxland=0.05e6"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=136,jxland_2=135,kxland_1=1,kxland_2=4,vxland=0.05e6"/


"xland_insert","ocean_mod","xland_insert"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=146,jxland_2=146,kxland_1=1,kxland_2=18,tauxland=86400.0"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=147,jxland_2=147,kxland_1=1,kxland_2=18,tauxland=86400.0"
"xland","Black-Med","ixland_1=305,ixland_2=309,jxland_1=151,jxland_2=152,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","Black-Med","ixland_1=306,ixland_2=309,jxland_1=151,jxland_2=153,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","Red Sea","ixland_1=322,ixland_2=324,jxland_1=123,jxland_2=120,kxland_1=1,kxland_2=20,tauxland=86400.0"
"xland","Red Sea","ixland_1=323,ixland_2=324,jxland_1=123,jxland_2=119,kxland_1=1,kxland_2=20,tauxland=86400.0"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=168,jxland_2=166,kxland_1=1,kxland_2=2,tauxland=86400.0"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=167,jxland_2=165,kxland_1=1,kxland_2=2,tauxland=86400.0"
"xland","NEBaltic","ixland_1=300,ixland_2=302,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","NEBaltic","ixland_1=301,ixland_2=303,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=173,jxland_2=171,kxland_1=1,kxland_2=12,tauxland=86400.0"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=172,jxland_2=170,kxland_1=1,kxland_2=12,tauxland=86400.0"
"xland","Boothia-Fox","ixland_1=199,ixland_2=203,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,tauxland=86400.0"
"xland","Boothia-Fox","ixland_1=198,ixland_2=202,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,tauxland=86400.0"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=137,jxland_2=136,kxland_1=1,kxland_2=4,tauxland=86400.0"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=136,jxland_2=135,kxland_1=1,kxland_2=4,tauxland=86400.0"/


"diff_cbt_enhance","ocean_mod","diff_cbt_enhance"
"diffcbt","Gibraltar","itable=274,jtable=146,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Gibraltar","itable=276,jtable=146,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Gibraltar","itable=274,jtable=147,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Gibraltar","itable=276,jtable=147,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=305,jtable=151,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=309,jtable=152,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=306,jtable=151,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=309,jtable=153,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=322,jtable=123,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=324,jtable=120,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=323,jtable=123,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=324,jtable=119,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=290,jtable=168,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=291,jtable=166,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=290,jtable=167,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=291,jtable=165,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=300,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=302,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=301,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=303,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=211,jtable=173,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=212,jtable=171,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=211,jtable=172,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=212,jtable=170,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=199,jtable=188,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=203,jtable=187,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=198,jtable=188,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=202,jtable=187,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=336,jtable=137,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=338,jtable=136,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=336,jtable=136,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=338,jtable=135,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"/
      </fieldTable>
      <dataTable>
"ICE", "sic_obs"        , "SIC"         , "./INPUT/sst_ice_clim.nc"      , "bicubic" ,  0.0
"ICE", "sit_obs"        , "SIT"         , "./INPUT/sst_ice_clim.nc"      , "bicubic" ,  0.0
"ICE", "sst_obs"        , "SST"         , "./INPUT/sst_ice_clim.nc"      , "bicubic" ,  1.0
      </dataTable>
      <namelist name="aerosol_nml">
        use_aerosol_timeseries = .true.
        time_varying_species = T,T,T,T,T,T,T,T,T,T,T,T
        aerosol_dataset_entry =  $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
        family_names = "small_dust", "large_dust", "sulfate", "aerosol"
        in_family1 = F,F,F,T,T,T,T,F,T,F,F,F,
        in_family2 = F,F,F,F,F,F,F,F,F,T,T,T,
        in_family3 = T,F,F,F,F,F,F,F,F,F,F,F,
        in_family4 = T,T,T,T,T,T,T,T,T,T,T,T,
        data_names = "so4", "black_carbon", "organic_carbon", "dust_0.1",
                     "dust_0.2", "dust_0.4", "dust_0.8", "sea_salt",
                     "dust_1.0", "dust_2.0", "dust_4.0", "dust_8.0",
        filename = "aerosol.climatology.nc"
      </namelist>
      <namelist name="atmosphere_nml">
        physics_window = 0,0,
      </namelist>
      <namelist name="aerosolrad_package_nml">
        using_volcanic_lw_files = .false.,
        lw_ext_filename = "extlw_data.nc"
        lw_ext_root = "extlw"
        lw_asy_filename = "             "
        lw_asy_root = "     "
        lw_ssa_filename = "             "
        lw_ssa_root = "     "
        using_volcanic_sw_files = .false.,
        sw_ext_filename = "extsw_data.nc"
        sw_ext_root = "extsw"
        sw_ssa_filename = "omgsw_data.nc"
        sw_ssa_root = "omgsw"
        sw_asy_filename = "asmsw_data.nc"
        sw_asy_root = "asmsw"
        do_lwaerosol = .true.,
        do_swaerosol = .true.,
        aerosol_data_set = 'shettle_fenn',
        optical_filename = "aerosol.optical.dat",
        aerosol_optical_names = "sulfate_30%", "sulfate_35%", "sulfate_40%", "sulfate_45%",
                                "sulfate_50%", "sulfate_55%", "sulfate_60%", "sulfate_65%",
                                "sulfate_70%", "sulfate_75%", "sulfate_80%", "sulfate_82%",
                                "sulfate_84%", "sulfate_86%", "sulfate_88%", "sulfate_90%",
                                "sulfate_91%", "sulfate_92%", "sulfate_93%", "sulfate_94%",
                                "sulfate_95%", "sulfate_96%", "sulfate_97%", "sulfate_98%",
                                "sulfate_99%", "sulfate_100%","organic_carbon","soot",
                                "sea_salt",    "dust_0.1",    "dust_0.2",    "dust_0.4",
                                "dust_0.8",    "dust_1.0",    "dust_2.0",    "dust_4.0",
                                "dust_8.0"
      </namelist>
      <namelist name="ozone_nml">
        basic_ozone_type = 'time_varying' ,
        ozone_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        data_name = "ozone",
        filename = "o3.climatology.nc"
      </namelist>
      <namelist name="radiation_driver_diag_nml">
        all_step_diagnostics = .true.
      </namelist>
      <namelist name="shortwave_driver_nml">
        time_varying_solar_constant = .true.,
        solar_dataset_entry = $(YEAR),$(MM),1,0,0,0,
        do_cmip_diagnostics = .true.,
        swform = 'esfsw99'
      </namelist>
      <namelist name="radiative_gases_nml">
        verbose = 3
        gas_printout_freq = 240

        time_varying_co2 = .true.,
        co2_variation_type = 'linear',
        co2_dataset_entry = $(YEAR),$(MM),1,0,0,0,
        co2_specification_type = 'time_series',
        co2_floor = 100.0E-06,
        co2_ceiling = 1600.0E-06,
        co2_data_source = 'input'
        calc_co2_tfs_on_first_step = .false.,
        calc_co2_tfs_monthly = .true.,
        co2_tf_time_displacement = 360.0,

        time_varying_ch4 = .true.,
        ch4_variation_type = 'linear'
        ch4_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        ch4_specification_type = 'time_series'
        ch4_data_source = 'input'
        calc_ch4_tfs_on_first_step = .false.,
        calc_ch4_tfs_monthly = .true.,
        ch4_tf_time_displacement = 360.0,

        time_varying_n2o = .true.,
        n2o_variation_type = 'linear'
        n2o_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        n2o_specification_type = 'time_series'
        n2o_data_source = 'input'
        calc_n2o_tfs_on_first_step = .false.,
        calc_n2o_tfs_monthly = .true.,
        n2o_tf_time_displacement = 360.0,

        time_varying_f11 = .true.,
        f11_variation_type = 'linear'
        f11_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f11_specification_type = 'time_series'
        f11_data_source = 'input'

        time_varying_f12 = .true.,
        f12_variation_type = 'linear'
        f12_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f12_specification_type = 'time_series'
        f12_data_source = 'input'

        time_varying_f113 = .true.,
        f113_variation_type = 'linear'
        f113_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f113_specification_type = 'time_series'
        f113_data_source = 'input'

        time_varying_f22 = .true.,
        f22_variation_type = 'linear'
        f22_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f22_specification_type = 'time_series'
        f22_data_source = 'input'
      </namelist>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = $(YEAR),$(MM),1,0,0,0,
        calendar = 'julian',
        dt_cpld = 3600,
        dt_atmos = 1200,
        do_atmos = .true.,
        do_land = .true.,
        do_ice = .true.,
        do_ocean = .true.,
        atmos_npes = 216,
        atmos_nthreads = 1,
        ocean_npes = 16,
        concurrent = .true.
        use_lag_fluxes=.true.
        check_stocks=0
      </namelist>
      <namelist name="fv_core_nml">
        layout   = 6,6
        io_layout = 3,3
        npx      = 181,
        npy      = 181,
        ntiles   = 6,
        npz      = 32,
        k_split  = 2,
        n_split  = 10,
        hord_dp =  13,
        dddmp = 0.0,
        d2_bg = 0.0,
        d4_bg = 0.16,
        d_ext = 0.02,
        tau = 30.,
        a2b_ord  = 4,
        adjust_dry_mass = .FALSE.
        consv_te = 0.7,
        fill = .true.
        fill_dp = .true.
        print_freq = 0,
        grid_type = 0,
        z_tracer=.false.
        beta=0.25
        nord=3
      </namelist>
      <namelist name="ice_albedo_nml">
        t_range = 10.
      </namelist>
      <namelist name="ice_model_nml">
        nsteps_dyn=72
        nsteps_adv=1
        num_part = 6
        wd_turn = 0.0
        spec_ice=.false.
        ice_bulk_salin = 0.005
        alb_sno = 0.85
        alb_ice = 0.65
        t_range_melt = 1.0
        cm2_bugs = .false.
        do_icebergs = .false.
        add_diurnal_sw = .false.
        h_lo_lim = 1.e-10
        channel_viscosity=5.e5
        layout=0,3
        io_layout=3,3
      </namelist>
      <namelist name="icebergs_nml">
        time_average_weight = .false.
        speed_limit=0.50
        verbose=.TRUE.
        traj_sample_hrs=0
        verbose_hrs=120
        use_roundoff_fix=.true. ! default is true
      </namelist>
      <namelist name="land_model_nml">
        layout = 6,6
        io_layout = 3,3
      </namelist>
      <namelist name="strat_cloud_nml">
        U00 = 0.800,
        U00_profile = .true.,
        rthresh = 8.0,
        Dmin = 1.0e-07,
        n_land = 300.e6,
        diff_thresh = 0.1,
        mc_thresh = 0.001,
        eros_scale = 1.e-6,
        eros_choice = .true.,
        eros_scale_c = 3.e-5,
        eros_scale_t = 5.e-5,
        super_choice = .true.,
        tracer_advec = .true.
      </namelist>
      <namelist name="ocean_shortwave_gfdl_nml">
        use_this_module=.true.
        debug_this_module=.false.
        read_chl=.true.
        zmax_pen=300.0
        enforce_sw_frac=.true.
        override_f_vis=.false.
        sw_morel_fixed_depths=.true.
        optics_morel_antoine=.false.
        optics_manizza=.true.
      </namelist>
      <namelist name="ocean_sigma_transport_nml">
        use_this_module=.false.
        sigma_diffusion_on=.true.
        sigma_advection_on=.false.
        sigma_advection_sgs_only=.false.
        sigma_just_in_bottom_cell=.true.
        tmask_sigma_on=.false.
        sigma_diffusivity_ratio=1.e-6
        tracer_mix_micom=.true.
        vel_micom=0.50
        sigma_umax=0.01
        smooth_sigma_thickness=.true.
        smooth_sigma_velocity=.true.
        smooth_velmicom=0.2
        thickness_sigma_layer= 100.0
        thickness_sigma_max  = 100.0
        thickness_sigma_min  = 100.0
      </namelist>
      <namelist name="ocean_albedo_nml">
        ocean_albedo_option = 5
      </namelist>
      <namelist name="ocean_vert_kpp_mom4p1_nml">
        use_this_module=.true.
        diff_cbt_iw=1.34e-7
        visc_cbu_iw=1.0e-4
        double_diffusion=.true.
        Ricr=0.3
        smooth_blmc=.true.
      </namelist>
      <namelist name="ocean_vert_mix_nml">
        aidif=1.0
        vert_mix_scheme='kpp_mom4p1'
        vert_diff_back_via_max =.true.
        use_diff_cbt_table=.false.
        bryan_lewis_diffusivity=.false.
        bryan_lewis_lat_depend=.false.
        hwf_diffusivity     = .false.
        hwf_min_diffusivity = 2.e-6
        hwf_N0_2Omega       = 20.0
      </namelist>
      <namelist name="ocean_vert_tidal_nml">
        use_this_module=.true.
        use_wave_dissipation=.true.
        use_drag_dissipation=.true.
        use_legacy_methods=.false.
        read_wave_dissipation=.false.
        fixed_wave_dissipation=.false.
        read_tide_speed=.true.
        read_roughness=.true.
        reading_roughness_amp=.true.
        reading_roughness_length=.false.
        roughness_scale=12e3
        tide_speed_data_on_t_grid=.true.
        drhodz_min=1e-10
        mixing_efficiency_n2depend=.true.
        max_wave_diffusivity=100.0e-4
        wave_energy_flux_max=0.10
        decay_scale=500.0
        shelf_depth_cutoff=-1000.0
        background_diffusivity=0.0
        background_viscosity=1.e-4
      </namelist>
      <namelist name="ocean_lapgen_friction_nml">
        use_this_module=.false.
        k_smag_iso=2.0
        k_smag_aniso=0.0
        bottom_5point=.true.
        vel_micom_iso=0.10
        eq_vel_micom_iso=0.0
        eq_lat_micom=0.0
        equatorial_zonal=.true.
        equatorial_zonal_lat=20.0
        equatorial_no_smag=.true.
        viscosity_ncar=.true.
        viscosity_ncar_2000= .true.
        viscosity_ncar_2007= .false.
        ncar_only_equatorial=.true.
        vconst_1=8.e6
        vconst_2=0.0
        vconst_3=0.80
        vconst_4=0.5e-8
        vconst_5=3
        vconst_6=3e8
        vconst_7=100.0
        restrict_polar_visc=.true.
        restrict_polar_visc_lat=60.0
        restrict_polar_visc_ratio=0.35
      </namelist>
      <namelist name="ocean_bihgen_friction_nml">
        use_this_module=.true.
        k_smag_iso=2.0
        k_smag_aniso=0.0
        vel_micom_iso=0.00
        vel_micom_aniso=0.0
        vel_micom_bottom=0.00
        eq_vel_micom_iso=0.0
        eq_vel_micom_aniso=0.0
        eq_lat_micom=0.0
        visc_crit_scale=1.0
        equatorial_zonal=.false.
        bottom_5point=.false.
        ncar_boundary_scaling=.true.
        ncar_rescale_power=2
        ncar_vconst_4=2.e-8
        ncar_vconst_5=5
      </namelist>
      <namelist name="ocean_nphysicsA_nml">
        use_this_module=.false.
        debug_this_module=.false.
        neutral_physics_limit=.true.
        neutral_physics_simple=.false.
        neutral_linear_gm_taper=.true.
        neutral_sine_taper=.true.
        tmask_neutral_on=.true.
      </namelist>
      <namelist name="ocean_nphysicsB_nml">
        use_this_module=.false.
        debug_this_module=.false.
        neutral_physics_limit=.true.
        nblayer_smooth=.true.
        surf_turb_thick_min_k=5
        surf_turb_thick_min=50.0
      </namelist>
      <namelist name="ocean_nphysicsC_nml">
        use_this_module=.true.
        do_neutral_diffusion=.true.
        do_gm_skewsion=.true.
        gm_skewsion_modes=.false.
        gm_skewsion_bvproblem=.true.
        number_bc_modes=2
        bvp_bc_mode=2
        bvp_speed=0.0
        bvp_min_speed=0.1
        smooth_psi=.true.
        regularize_psi=.false.
        smax_psi=0.01
        epsln_bv_freq=1.e-12
        bv_freq_smooth_vert=.true.
        debug_this_module=.false.
        turb_blayer_min=50.0
        neutral_physics_limit=.true.
        neutral_eddy_depth=.true.
        tmask_neutral_on=.true.
      </namelist>
      <namelist name="ocean_nphysics_nml">
        use_this_module=.true.
        debug_this_module=.false.
        use_nphysicsA=.false.
        use_nphysicsB=.false.
        use_nphysicsC=.true.
      </namelist>
      <namelist name="ocean_nphysics_util_nml">
        nphysics_util_zero_init=.true.
        smax=0.005
        swidth=0.002
        aredi=600.0
        agm=800.0
        aredi_equal_agm=.false.
        drhodz_mom4p1=.true.
        drhodz_smooth_horz=.false.
        drhodz_smooth_vert=.false.
        tracer_mix_micom=.false.
        vel_micom=0.0
        agm_closure=.true.
        agm_closure_scaling=0.07
        agm_closure_grid_scaling=.true.
        agm_closure_min=100.0
        agm_closure_max=800.0
        agm_closure_length_fixed=.false.
        agm_closure_length_rossby=.false.
        agm_closure_length_bczone=.false.
        agm_closure_baroclinic=.true.
        agm_closure_eden_greatbatch=.false.
        agm_closure_eden_gamma=0.0
        agm_closure_eady_smooth_vert=.true.
        agm_closure_eady_smooth_horz=.true.
        agm_closure_eady_cap=.true.
        agm_closure_eady_ave_mixed=.true.
        agm_smooth_space=.false.
        agm_smooth_time=.false.
        agm_damping_time=45.0
        agm_closure_length=50.e3
        agm_closure_buoy_freq=.004
        agm_closure_upper_depth=100.0
        agm_closure_lower_depth=2000.0
        rossby_radius_max=100e3
        rossby_radius_min=15e3
      </namelist>
      <namelist name="ocean_tracer_advect_nml">
        debug_this_module=.false.
        advect_sweby_all=.false.
        limit_with_upwind=.false.
      </namelist>
      <namelist name="ocean_submesoscale_nml">
        use_this_module=.true.
        debug_this_module=.false.
        use_hblt_equal_mld=.true.
        min_kblt=4
        smooth_hblt=.false.
        front_length_deform_radius=.true.
        front_length_const=5e3
        limit_psi=.true.
        limit_psi_velocity_scale=0.50
        submeso_limit_flux=.true.
      </namelist>
      <namelist name="ensemble_nml">
        ensemble_size = $(ENS_SIZE)
      </namelist>
      <namelist name="ocean_model_nml">
        impose_init_from_restart=.false.
        time_tendency='twolevel'
        vertical_coordinate='zstar'
        baroclinic_split = 1
        surface_height_split = 1
        barotropic_split = 80
        debug=.false.
        layout=4,4
        io_layout=1,4
        dt_ocean=3600
        cmip_units=.false. ! for spinups use default setting of false
      </namelist>
      <csh><![CDATA[
        ]]>
      </csh>
    </input>
    <runtime>
      <production simTime="1" units="years" npes="232" runTime="10:00:00">
        <segment simTime="1" units="years" runTime="10:00:00"/>
      </production>
    </runtime>

    <postProcess npes="8" combine="chained">
      <refineDiag script="/home/nmme/ensemble_splitter/FLOR_refineDiag.csh"/>
      <csh>
        cd $work/RESTART
        ncrcat icebergs.res.nc.* icebergs.res.nc
        rm -f icebergs.res.nc.*

        cd $work
        ncrcat iceberg_trajectories.nc.* iceberg_trajectories.nc
        rm -f iceberg_trajectories.nc.*
      </csh>

      <component type="atmos_month_aer" source="atmos_month_aer" cubicToLatLon="360,576">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="atmos_daily" zInterp="ncep" source="atmos_daily" cubicToLatLon="360,576" >
        <timeSeries freq="daily" source="atmos_daily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="atmos_4xdaily" zInterp="ncep" source="atmos_4xdaily" cubicToLatLon="360,576" >
        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="atmos" zInterp="ncep" source="atmos_month" cubicToLatLon="360,576" >
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_ANALYSIS)" script="$(ANALYSIS_SCRIPT) -c atmos $(AN_ATMOS_VARS_OPT) -t $(MM)" />
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>

      <component type="ocean" source="ocean_month">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_ANALYSIS)" script="$(ANALYSIS_SCRIPT) -c ocean $(AN_OCEAN_VARS_OPT) -t $(MM)" />
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="ocean_scalar" source="ocean_scalar">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="ocean_daily" source="ocean_daily">
        <timeSeries freq="daily" source="ocean_daily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>

      <component type="land_inst_month" source="land_inst_month" interpMethod="conserve_order1" cubicToLatLon="360,576">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="land" source="land_month" interpMethod="conserve_order1" cubicToLatLon="360,576">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>

      <component type="ice_daily" source="ice_daily">
        <timeSeries freq="daily" source="ice_daily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="ice" source="ice_month">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
    </postProcess>
  </experiment>

  <experiment name="CM2.5_FLOR_B01_p1_ECDA_2.1Rv3.1_01_MON__YEAR_" inherit="CM2.5_exec">
    <realization r="1:$(ENS_SIZE)" i="1" p="1" />
    <description communityProject="NMME"
                 communityModel="GFDL-FLORB01"
                 communityModelID="FLORB01-P1-ECDA-v3.1-$(MM)$(YEAR)"
                 communityExperimentName="FLORB01-P1-ECDA-3.1"
                 communityExperimentID="FLORB01-P1-ECDA-3.1-$(MM)$(YEAR)">
      CM2.5 FLOR B01 seasonal forecast for $(MON) $(YEAR)
    </description>
    <communityComment>
      GFDL experiment name = CM2.5_FLOR_A06_p1_ECDA_2.1Rv3.1_01$(MON)$(YEAR). Community experiment name = FLORA06-P1-ECDA-3.1. Initial conditions for this experiment were taken from CM2.1R-ECDA-v3.1-1960. Forcing used is  GHG,SD,Oz,LU,Sl,Vl,SS,BC,MD,OC (GHG includes CO2, CH4, N2O, CFC11, CFC12, HCFC22, CFC113)(SS, BC, MD, OC,Time Varying through 2004, fixed thereafter at 2004).
    </communityComment>
    <scenario communityForcing="GHG,SD,Oz,LU,Sl,Vl,SS,BC,MD,OC (GHG includes CO2, CH4, N2O, CFC11, CFC12, HCFC22, CFC113)(SS, BC, MD, OC,Time Varying through 2004, fixed thereafter at 2004)"
              startTime="$(YEAR)-$(MM)-01"
              endTime="$(END_TIME)"
              parentExperimentID="CM2.1R-ECDA-v3.1-1960"
              parentExperimentRIP="CM2.1R-ECDA-v3.1-1960"
              branch_time="0.0" />
    <executable file="$CDATA/gfdl_G/NMME/execs/CM2.5/ulm_201505/ncrc3.intel-prod-openmp/exec/fms_CM2.5_exec.x"/>
    <input>
      <dataFile label="input" target="INPUT/">
        <dataSource site="$(site)">$(FMS_ARCHIVE_ROOT)/CM2.5/inputs/CM2.5_C02_INPUT_ulm_201505.tar</dataSource>
      </dataFile>
      <dataFile label="initCond" target="INPUT/">
        <dataSource site="$(site)">${CDATA}/gfdl_G/NMME/IC/CM2.5_FLOR_p1/$(YEAR)$(MM)01.tar</dataSource>
      </dataFile>
      <dataFile label="gridSpec" target="INPUT/">
        <dataSource site="ncrc">${CDATA}/gfdl_G/blue_flower/bf_mosaics_v2.tar</dataSource>
        <dataSource site="gfdl">/archive/nmme/blue_flower/bf_mosaics_v2.tar</dataSource>
      </dataFile>
      <dataFile label="namelist" target="input.nml">
        <dataSource site="ncrc">$CDATA/gfdl_G/NMME/INPUTS/namelists/CM2.1R_ocean_ulm_201505_nml</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="diag_table">
        <dataSource site="ncrc">${CDATA}/gfdl_G/NMME/INPUTS/diagTables/diag_table_production_LM3land.p1_3</dataSource>
        <dataSource site="gfdl">/archive/nmme/NMME/INPUTS/diagTables/diag_table_production_LM3land.p1_3</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/aerosol.climatology.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/aerosol.climatology_1855-2005_rcp45_2015-2105.nc
      </dataFile>
      <dataFile label="input" target="INPUT/o3.climatology.nc">
        ${CDATA}/gfdl_G/NMME/INPUTS/CM2.1R/CM3_CMIP5_ACC_SPARC_1850-2009_T3M+2010-2099_RCP4.5_T3M_O3.nc
      </dataFile>
      <dataFile label="input" target="INPUT/lean_solar_spectral_data.dat">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/CMIP5_1610-2300_monthly_data_b18
      </dataFile>
      <dataFile label="input" target="INPUT/esf_sw_input_data_n38b18">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/esf_sw_input_data_n38b18_2000_version_ckd2.1.lean.nov89.ref.with.ch4.and.n2o
      </dataFile>
      <dataFile label="input" target="INPUT/co2_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/co2_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/ch4_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/ch4_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/n2o_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/n2o_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f11_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f11_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f12_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f12_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f113_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f113_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/f22_gblannualdata">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/f22_rcp45_gblannualdata_1800-2500
      </dataFile>
      <dataFile label="input" target="INPUT/asmsw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/asmsw_data.nc
      </dataFile>
      <dataFile label="input" target="INPUT/extlw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/extlw_data.nc
      </dataFile>
      <dataFile label="input" target="INPUT/extsw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/extsw_data.nc
      </dataFile>
      <dataFile label="input" target="INPUT/omgsw_data.nc">
        ${CDATA}/gfdl_G/ipcc_ar5_forcings/omgsw_data.nc
      </dataFile>
       <dataFile label="input" target="INPUT/">
        ${CDATA}/gfdl_G/blue_flower/bf_input_files.tar
      </dataFile>
      <dataFile label="input" target="INPUT/">
        ${CDATA}/gfdl_G/blue_flower/bf_river_data.tar
      </dataFile>
      <fieldTable>
"prog_tracers","ocean_mod","temp"
horizontal-advection-scheme = mdppm
vertical-advection-scheme = mdppm
restart_file  = ocean_temp_salt.res.nc
ppm_hlimiter = 3
ppm_vlimiter = 3
/
"prog_tracers","ocean_mod","salt"
horizontal-advection-scheme = mdppm
vertical-advection-scheme = mdppm
restart_file  = ocean_temp_salt.res.nc
ppm_hlimiter = 3
ppm_vlimiter = 3
/
"tracer_packages","ocean_mod","ocean_age_tracer"
names = global
const_init_tracer = .true.
horizontal-advection-scheme = mdppm
vertical-advection-scheme = mdppm
ppm_hlimiter = 3
ppm_vlimiter = 3
restart_file = ocean_age.res.nc
min_tracer_limit=0.0
/
"namelists","ocean_mod","ocean_age_tracer/global"
slat = -90.0
nlat =  90.0
wlon =   0.0
elon = 360.0
/
# added by FRE: sphum must be present in atmos
# specific humidity for moist runs
 "TRACER", "atmos_mod", "sphum"
           "longname",     "specific humidity"
           "units",        "kg/kg"
       "profile_type", "fixed", "surface_value=3.e-6" /
# prognotic cloud scheme tracers
  "TRACER", "atmos_mod", "liq_wat"
            "longname",     "cloud liquid specific humidity"
            "units",        "kg/kg" /
  "TRACER", "atmos_mod", "ice_wat"
            "longname",     "cloud ice water specific humidity"
            "units",        "kg/kg" /
  "TRACER", "atmos_mod", "cld_amt"
            "longname",     "cloud fraction"
            "units",        "none" /
# test tracer for radon
# "TRACER", "atmos_mod", "radon"
#           "longname",     "radon test tracer"
#           "units",        "kg/kg" /
       "TRACER", "land_mod", "sphum"
       "longname",     "specific humidity"
       "units",        "kg/kg" /
       "xland_mix","ocean_mod","xland_mix"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=146,jxland_2=146,kxland_1=1,kxland_2=28,vxland=0.55e6"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=147,jxland_2=147,kxland_1=1,kxland_2=28,vxland=0.55e6"
"xland","Black-Med","ixland_1=305,ixland_2=309,jxland_1=151,jxland_2=152,kxland_1=1,kxland_2=6,vxland=0.01e6"
"xland","Black-Med","ixland_1=306,ixland_2=309,jxland_1=151,jxland_2=153,kxland_1=1,kxland_2=6,vxland=0.01e6"
"xland","Red Sea","ixland_1=322,ixland_2=324,jxland_1=123,jxland_2=120,kxland_1=1,kxland_2=20,vxland=0.18e6"
"xland","Red Sea","ixland_1=323,ixland_2=324,jxland_1=123,jxland_2=119,kxland_1=1,kxland_2=20,vxland=0.18e6"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=168,jxland_2=166,kxland_1=1,kxland_2=2,vxland=0.015e6"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=167,jxland_2=165,kxland_1=1,kxland_2=2,vxland=0.015e6"
"xland","NEBaltic","ixland_1=300,ixland_2=302,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,vxland=0.003e6"
"xland","NEBaltic","ixland_1=301,ixland_2=303,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,vxland=0.003e6"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=173,jxland_2=171,kxland_1=1,kxland_2=12,vxland=0.45e6"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=172,jxland_2=170,kxland_1=1,kxland_2=12,vxland=0.45e6"
"xland","Boothia-Fox","ixland_1=199,ixland_2=203,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,vxland=0.035e6"
"xland","Boothia-Fox","ixland_1=198,ixland_2=202,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,vxland=0.035e6"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=137,jxland_2=136,kxland_1=1,kxland_2=4,vxland=0.05e6"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=136,jxland_2=135,kxland_1=1,kxland_2=4,vxland=0.05e6"/


"xland_insert","ocean_mod","xland_insert"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=146,jxland_2=146,kxland_1=1,kxland_2=18,tauxland=86400.0"
"xland","Gibraltar","ixland_1=274,ixland_2=276,jxland_1=147,jxland_2=147,kxland_1=1,kxland_2=18,tauxland=86400.0"
"xland","Black-Med","ixland_1=305,ixland_2=309,jxland_1=151,jxland_2=152,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","Black-Med","ixland_1=306,ixland_2=309,jxland_1=151,jxland_2=153,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","Red Sea","ixland_1=322,ixland_2=324,jxland_1=123,jxland_2=120,kxland_1=1,kxland_2=20,tauxland=86400.0"
"xland","Red Sea","ixland_1=323,ixland_2=324,jxland_1=123,jxland_2=119,kxland_1=1,kxland_2=20,tauxland=86400.0"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=168,jxland_2=166,kxland_1=1,kxland_2=2,tauxland=86400.0"
"xland","Baltic","ixland_1=290,ixland_2=291,jxland_1=167,jxland_2=165,kxland_1=1,kxland_2=2,tauxland=86400.0"
"xland","NEBaltic","ixland_1=300,ixland_2=302,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","NEBaltic","ixland_1=301,ixland_2=303,jxland_1=174,jxland_2=174,kxland_1=1,kxland_2=6,tauxland=86400.0"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=173,jxland_2=171,kxland_1=1,kxland_2=12,tauxland=86400.0"
"xland","Hudson","ixland_1=211,ixland_2=212,jxland_1=172,jxland_2=170,kxland_1=1,kxland_2=12,tauxland=86400.0"
"xland","Boothia-Fox","ixland_1=199,ixland_2=203,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,tauxland=86400.0"
"xland","Boothia-Fox","ixland_1=198,ixland_2=202,jxland_1=188,jxland_2=187,kxland_1=1,kxland_2=4,tauxland=86400.0"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=137,jxland_2=136,kxland_1=1,kxland_2=4,tauxland=86400.0"
"xland","Persian Gulf","ixland_1=336,ixland_2=338,jxland_1=136,jxland_2=135,kxland_1=1,kxland_2=4,tauxland=86400.0"/


"diff_cbt_enhance","ocean_mod","diff_cbt_enhance"
"diffcbt","Gibraltar","itable=274,jtable=146,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Gibraltar","itable=276,jtable=146,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Gibraltar","itable=274,jtable=147,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Gibraltar","itable=276,jtable=147,ktable_1=1,ktable_2=18,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=305,jtable=151,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=309,jtable=152,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=306,jtable=151,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Black-Med","itable=309,jtable=153,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=322,jtable=123,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=324,jtable=120,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=323,jtable=123,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Red Sea","itable=324,jtable=119,ktable_1=1,ktable_2=20,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=290,jtable=168,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=291,jtable=166,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=290,jtable=167,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","Baltic","itable=291,jtable=165,ktable_1=1,ktable_2=2,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=300,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=302,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=301,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","NEBaltic","itable=303,jtable=174,ktable_1=1,ktable_2=6,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=211,jtable=173,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=212,jtable=171,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=211,jtable=172,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Hudson","itable=212,jtable=170,ktable_1=1,ktable_2=12,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=199,jtable=188,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=203,jtable=187,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=198,jtable=188,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Boothia-Fox","itable=202,jtable=187,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=336,jtable=137,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=338,jtable=136,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=336,jtable=136,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"
"diffcbt","Persian Gulf","itable=338,jtable=135,ktable_1=1,ktable_2=4,diff_cbt_table=0.01"/
      </fieldTable>
      <dataTable>
"ICE", "sic_obs"        , "SIC"         , "./INPUT/sst_ice_clim.nc"      , "bicubic" ,  0.0
"ICE", "sit_obs"        , "SIT"         , "./INPUT/sst_ice_clim.nc"      , "bicubic" ,  0.0
"ICE", "sst_obs"        , "SST"         , "./INPUT/sst_ice_clim.nc"      , "bicubic" ,  1.0
      </dataTable>
      <namelist name="aerosol_nml">
        use_aerosol_timeseries = .true.
        time_varying_species = T,T,T,T,T,T,T,T,T,T,T,T
        aerosol_dataset_entry =  $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
                                 $(YEAR), $(MM), 1, 0, 0, 0,
        family_names = "small_dust", "large_dust", "sulfate", "aerosol"
        in_family1 = F,F,F,T,T,T,T,F,T,F,F,F,
        in_family2 = F,F,F,F,F,F,F,F,F,T,T,T,
        in_family3 = T,F,F,F,F,F,F,F,F,F,F,F,
        in_family4 = T,T,T,T,T,T,T,T,T,T,T,T,
        data_names = "so4", "black_carbon", "organic_carbon", "dust_0.1",
                     "dust_0.2", "dust_0.4", "dust_0.8", "sea_salt",
                     "dust_1.0", "dust_2.0", "dust_4.0", "dust_8.0",
        filename = "aerosol.climatology.nc"
      </namelist>
      <namelist name="atmosphere_nml">
        physics_window = 0,0,
      </namelist>
      <namelist name="aerosolrad_package_nml">
        using_volcanic_lw_files = .false.,
        lw_ext_filename = "extlw_data.nc"
        lw_ext_root = "extlw"
        lw_asy_filename = "             "
        lw_asy_root = "     "
        lw_ssa_filename = "             "
        lw_ssa_root = "     "
        using_volcanic_sw_files = .false.,
        sw_ext_filename = "extsw_data.nc"
        sw_ext_root = "extsw"
        sw_ssa_filename = "omgsw_data.nc"
        sw_ssa_root = "omgsw"
        sw_asy_filename = "asmsw_data.nc"
        sw_asy_root = "asmsw"
        do_lwaerosol = .true.,
        do_swaerosol = .true.,
        aerosol_data_set = 'shettle_fenn',
        optical_filename = "aerosol.optical.dat",
        aerosol_optical_names = "sulfate_30%", "sulfate_35%", "sulfate_40%", "sulfate_45%",
                                "sulfate_50%", "sulfate_55%", "sulfate_60%", "sulfate_65%",
                                "sulfate_70%", "sulfate_75%", "sulfate_80%", "sulfate_82%",
                                "sulfate_84%", "sulfate_86%", "sulfate_88%", "sulfate_90%",
                                "sulfate_91%", "sulfate_92%", "sulfate_93%", "sulfate_94%",
                                "sulfate_95%", "sulfate_96%", "sulfate_97%", "sulfate_98%",
                                "sulfate_99%", "sulfate_100%","organic_carbon","soot",
                                "sea_salt",    "dust_0.1",    "dust_0.2",    "dust_0.4",
                                "dust_0.8",    "dust_1.0",    "dust_2.0",    "dust_4.0",
                                "dust_8.0"
      </namelist>
      <namelist name="ozone_nml">
        basic_ozone_type = 'time_varying' ,
        ozone_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        data_name = "ozone",
        filename = "o3.climatology.nc"
      </namelist>
      <namelist name="radiation_driver_diag_nml">
        all_step_diagnostics = .true.
      </namelist>
      <namelist name="shortwave_driver_nml">
        time_varying_solar_constant = .true.,
        solar_dataset_entry = $(YEAR),$(MM),1,0,0,0,
        do_cmip_diagnostics = .true.,
        swform = 'esfsw99'
      </namelist>
      <namelist name="radiative_gases_nml">
        verbose = 3
        gas_printout_freq = 240

        time_varying_co2 = .true.,
        co2_variation_type = 'linear',
        co2_dataset_entry = $(YEAR),$(MM),1,0,0,0,
        co2_specification_type = 'time_series',
        co2_floor = 100.0E-06,
        co2_ceiling = 1600.0E-06,
        co2_data_source = 'input'
        calc_co2_tfs_on_first_step = .false.,
        calc_co2_tfs_monthly = .true.,
        co2_tf_time_displacement = 360.0,

        time_varying_ch4 = .true.,
        ch4_variation_type = 'linear'
        ch4_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        ch4_specification_type = 'time_series'
        ch4_data_source = 'input'
        calc_ch4_tfs_on_first_step = .false.,
        calc_ch4_tfs_monthly = .true.,
        ch4_tf_time_displacement = 360.0,

        time_varying_n2o = .true.,
        n2o_variation_type = 'linear'
        n2o_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        n2o_specification_type = 'time_series'
        n2o_data_source = 'input'
        calc_n2o_tfs_on_first_step = .false.,
        calc_n2o_tfs_monthly = .true.,
        n2o_tf_time_displacement = 360.0,

        time_varying_f11 = .true.,
        f11_variation_type = 'linear'
        f11_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f11_specification_type = 'time_series'
        f11_data_source = 'input'

        time_varying_f12 = .true.,
        f12_variation_type = 'linear'
        f12_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f12_specification_type = 'time_series'
        f12_data_source = 'input'

        time_varying_f113 = .true.,
        f113_variation_type = 'linear'
        f113_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f113_specification_type = 'time_series'
        f113_data_source = 'input'

        time_varying_f22 = .true.,
        f22_variation_type = 'linear'
        f22_dataset_entry = $(YEAR), $(MM), 1, 0, 0, 0,
        f22_specification_type = 'time_series'
        f22_data_source = 'input'
      </namelist>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = $(YEAR),$(MM),1,0,0,0,
        calendar = 'julian',
        dt_cpld = 3600,
        dt_atmos = 1200,
        do_atmos = .true.,
        do_land = .true.,
        do_ice = .true.,
        do_ocean = .true.,
        atmos_npes = 216,
        atmos_nthreads = 1,
        ocean_npes = 16,
        concurrent = .true.
        use_lag_fluxes=.true.
        check_stocks=0
      </namelist>
      <namelist name="fv_core_nml">
        layout   = 6,6
        io_layout = 3,3
        npx      = 181,
        npy      = 181,
        ntiles   = 6,
        npz      = 32,
        k_split  = 2,
        n_split  = 10,
        hord_dp =  13,
        dddmp = 0.0,
        d2_bg = 0.0,
        d4_bg = 0.16,
        d_ext = 0.02,
        tau = 30.,
        a2b_ord  = 4,
        adjust_dry_mass = .FALSE.
        consv_te = 0.7,
        fill = .true.
        fill_dp = .true.
        print_freq = 0,
        grid_type = 0,
        z_tracer=.false.
        beta=0.25
        nord=3
      </namelist>
      <namelist name="ice_albedo_nml">
        t_range = 10.
      </namelist>
      <namelist name="ice_model_nml">
        nsteps_dyn=72
        nsteps_adv=1
        num_part = 6
        wd_turn = 0.0
        spec_ice=.false.
        ice_bulk_salin = 0.005
        alb_sno = 0.85
        alb_ice = 0.65
        t_range_melt = 1.0
        cm2_bugs = .false.
        do_icebergs = .false.
        add_diurnal_sw = .false.
        h_lo_lim = 1.e-10
        channel_viscosity=5.e5
        layout=0,3
        io_layout=3,3
      </namelist>
      <namelist name="icebergs_nml">
        time_average_weight = .false.
        speed_limit=0.50
        verbose=.TRUE.
        traj_sample_hrs=0
        verbose_hrs=120
        use_roundoff_fix=.true. ! default is true
      </namelist>
      <namelist name="land_model_nml">
        layout = 6,6
        io_layout = 3,3
      </namelist>
      <namelist name="strat_cloud_nml">
        U00 = 0.800,
        U00_profile = .true.,
        rthresh = 8.0,
        Dmin = 1.0e-07,
        n_land = 300.e6,
        diff_thresh = 0.1,
        mc_thresh = 0.001,
        eros_scale = 1.e-6,
        eros_choice = .true.,
        eros_scale_c = 3.e-5,
        eros_scale_t = 5.e-5,
        super_choice = .true.,
        tracer_advec = .true.
      </namelist>
      <namelist name="ocean_shortwave_gfdl_nml">
        use_this_module=.true.
        debug_this_module=.false.
        read_chl=.true.
        zmax_pen=300.0
        enforce_sw_frac=.true.
        override_f_vis=.false.
        sw_morel_fixed_depths=.true.
        optics_morel_antoine=.false.
        optics_manizza=.true.
      </namelist>
      <namelist name="ocean_sigma_transport_nml">
        use_this_module=.false.
        sigma_diffusion_on=.true.
        sigma_advection_on=.false.
        sigma_advection_sgs_only=.false.
        sigma_just_in_bottom_cell=.true.
        tmask_sigma_on=.false.
        sigma_diffusivity_ratio=1.e-6
        tracer_mix_micom=.true.
        vel_micom=0.50
        sigma_umax=0.01
        smooth_sigma_thickness=.true.
        smooth_sigma_velocity=.true.
        smooth_velmicom=0.2
        thickness_sigma_layer= 100.0
        thickness_sigma_max  = 100.0
        thickness_sigma_min  = 100.0
      </namelist>
      <namelist name="ocean_albedo_nml">
        ocean_albedo_option = 5
      </namelist>
      <namelist name="ocean_vert_kpp_mom4p1_nml">
        use_this_module=.true.
        diff_cbt_iw=1.34e-7
        visc_cbu_iw=1.0e-4
        double_diffusion=.true.
        Ricr=0.3
        smooth_blmc=.true.
      </namelist>
      <namelist name="ocean_vert_mix_nml">
        aidif=1.0
        vert_mix_scheme='kpp_mom4p1'
        vert_diff_back_via_max =.true.
        use_diff_cbt_table=.false.
        bryan_lewis_diffusivity=.false.
        bryan_lewis_lat_depend=.false.
        hwf_diffusivity     = .false.
        hwf_min_diffusivity = 2.e-6
        hwf_N0_2Omega       = 20.0
      </namelist>
      <namelist name="ocean_vert_tidal_nml">
        use_this_module=.true.
        use_wave_dissipation=.true.
        use_drag_dissipation=.true.
        use_legacy_methods=.false.
        read_wave_dissipation=.false.
        fixed_wave_dissipation=.false.
        read_tide_speed=.true.
        read_roughness=.true.
        reading_roughness_amp=.true.
        reading_roughness_length=.false.
        roughness_scale=12e3
        tide_speed_data_on_t_grid=.true.
        drhodz_min=1e-10
        mixing_efficiency_n2depend=.true.
        max_wave_diffusivity=100.0e-4
        wave_energy_flux_max=0.10
        decay_scale=500.0
        shelf_depth_cutoff=-1000.0
        background_diffusivity=0.0
        background_viscosity=1.e-4
      </namelist>
      <namelist name="ocean_lapgen_friction_nml">
        use_this_module=.false.
        k_smag_iso=2.0
        k_smag_aniso=0.0
        bottom_5point=.true.
        vel_micom_iso=0.10
        eq_vel_micom_iso=0.0
        eq_lat_micom=0.0
        equatorial_zonal=.true.
        equatorial_zonal_lat=20.0
        equatorial_no_smag=.true.
        viscosity_ncar=.true.
        viscosity_ncar_2000= .true.
        viscosity_ncar_2007= .false.
        ncar_only_equatorial=.true.
        vconst_1=8.e6
        vconst_2=0.0
        vconst_3=0.80
        vconst_4=0.5e-8
        vconst_5=3
        vconst_6=3e8
        vconst_7=100.0
        restrict_polar_visc=.true.
        restrict_polar_visc_lat=60.0
        restrict_polar_visc_ratio=0.35
      </namelist>
      <namelist name="ocean_bihgen_friction_nml">
        use_this_module=.true.
        k_smag_iso=2.0
        k_smag_aniso=0.0
        vel_micom_iso=0.00
        vel_micom_aniso=0.0
        vel_micom_bottom=0.00
        eq_vel_micom_iso=0.0
        eq_vel_micom_aniso=0.0
        eq_lat_micom=0.0
        visc_crit_scale=1.0
        equatorial_zonal=.false.
        bottom_5point=.false.
        ncar_boundary_scaling=.true.
        ncar_rescale_power=2
        ncar_vconst_4=2.e-8
        ncar_vconst_5=5
      </namelist>
      <namelist name="ocean_nphysicsA_nml">
        use_this_module=.false.
        debug_this_module=.false.
        neutral_physics_limit=.true.
        neutral_physics_simple=.false.
        neutral_linear_gm_taper=.true.
        neutral_sine_taper=.true.
        tmask_neutral_on=.true.
      </namelist>
      <namelist name="ocean_nphysicsB_nml">
        use_this_module=.false.
        debug_this_module=.false.
        neutral_physics_limit=.true.
        nblayer_smooth=.true.
        surf_turb_thick_min_k=5
        surf_turb_thick_min=50.0
      </namelist>
      <namelist name="ocean_nphysicsC_nml">
        use_this_module=.true.
        do_neutral_diffusion=.true.
        do_gm_skewsion=.true.
        gm_skewsion_modes=.false.
        gm_skewsion_bvproblem=.true.
        number_bc_modes=2
        bvp_bc_mode=2
        bvp_speed=0.0
        bvp_min_speed=0.1
        smooth_psi=.true.
        regularize_psi=.false.
        smax_psi=0.01
        epsln_bv_freq=1.e-12
        bv_freq_smooth_vert=.true.
        debug_this_module=.false.
        turb_blayer_min=50.0
        neutral_physics_limit=.true.
        neutral_eddy_depth=.true.
        tmask_neutral_on=.true.
      </namelist>
      <namelist name="ocean_nphysics_nml">
        use_this_module=.true.
        debug_this_module=.false.
        use_nphysicsA=.false.
        use_nphysicsB=.false.
        use_nphysicsC=.true.
      </namelist>
      <namelist name="ocean_nphysics_util_nml">
        nphysics_util_zero_init=.true.
        smax=0.005
        swidth=0.002
        aredi=600.0
        agm=800.0
        aredi_equal_agm=.false.
        drhodz_mom4p1=.true.
        drhodz_smooth_horz=.false.
        drhodz_smooth_vert=.false.
        tracer_mix_micom=.false.
        vel_micom=0.0
        agm_closure=.true.
        agm_closure_scaling=0.07
        agm_closure_grid_scaling=.true.
        agm_closure_min=100.0
        agm_closure_max=800.0
        agm_closure_length_fixed=.false.
        agm_closure_length_rossby=.false.
        agm_closure_length_bczone=.false.
        agm_closure_baroclinic=.true.
        agm_closure_eden_greatbatch=.false.
        agm_closure_eden_gamma=0.0
        agm_closure_eady_smooth_vert=.true.
        agm_closure_eady_smooth_horz=.true.
        agm_closure_eady_cap=.true.
        agm_closure_eady_ave_mixed=.true.
        agm_smooth_space=.false.
        agm_smooth_time=.false.
        agm_damping_time=45.0
        agm_closure_length=50.e3
        agm_closure_buoy_freq=.004
        agm_closure_upper_depth=100.0
        agm_closure_lower_depth=2000.0
        rossby_radius_max=100e3
        rossby_radius_min=15e3
      </namelist>
      <namelist name="ocean_tracer_advect_nml">
        debug_this_module=.false.
        advect_sweby_all=.false.
        limit_with_upwind=.false.
      </namelist>
      <namelist name="ocean_submesoscale_nml">
        use_this_module=.true.
        debug_this_module=.false.
        use_hblt_equal_mld=.true.
        min_kblt=4
        smooth_hblt=.false.
        front_length_deform_radius=.true.
        front_length_const=5e3
        limit_psi=.true.
        limit_psi_velocity_scale=0.50
        submeso_limit_flux=.true.
      </namelist>
      <namelist name="ensemble_nml">
        ensemble_size = $(ENS_SIZE)
      </namelist>
      <namelist name="ocean_model_nml">
        impose_init_from_restart=.false.
        time_tendency='twolevel'
        vertical_coordinate='zstar'
        baroclinic_split = 1
        surface_height_split = 1
        barotropic_split = 80
        debug=.false.
        layout=4,4
        io_layout=1,4
        dt_ocean=3600
        cmip_units=.false. ! for spinups use default setting of false
      </namelist>
      <csh><![CDATA[
        ]]>
      </csh>
    </input>

    <runtime>
      <production simTime="1" units="years" npes="232" runTime="10:00:00">
        <segment simTime="1" units="years" runTime="10:00:00"/>
      </production>
    </runtime>

    <postProcess npes="8" combine="chained">
      <refineDiag script="/home/nmme/ensemble_splitter/FLOR_refineDiag.csh"/>
      <csh>
        cd $work/RESTART
        ncrcat icebergs.res.nc.* icebergs.res.nc
        rm -f icebergs.res.nc.*

        cd $work
        ncrcat iceberg_trajectories.nc.* iceberg_trajectories.nc
        rm -f iceberg_trajectories.nc.*
      </csh>

      <component type="atmos_month_aer" source="atmos_month_aer" cubicToLatLon="360,576">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="atmos_daily" zInterp="ncep" source="atmos_daily" cubicToLatLon="360,576" >
        <timeSeries freq="daily" source="atmos_daily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="atmos_4xdaily" zInterp="ncep" source="atmos_4xdaily" cubicToLatLon="360,576" >
        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="atmos" zInterp="ncep" source="atmos_month" cubicToLatLon="360,576" >
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_ANALYSIS)" script="$(ANALYSIS_SCRIPT) -c atmos $(AN_ATMOS_VARS_OPT) -t $(MM)" />
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>

      <component type="ocean" source="ocean_month">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_ANALYSIS)" script="$(ANALYSIS_SCRIPT) -c ocean $(AN_OCEAN_VARS_OPT) -t $(MM)" />
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="ocean_scalar" source="ocean_scalar">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="ocean_daily" source="ocean_daily">
        <timeSeries freq="daily" source="ocean_daily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>

      <component type="land_inst_month" source="land_inst_month" interpMethod="conserve_order1" cubicToLatLon="360,576">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="land" source="land_month" interpMethod="conserve_order1" cubicToLatLon="360,576">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="land_4xdaily" source="land_4xdaily" cubicToLatLon="360,576">
        <timeSeries freq="6hr" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
      <component type="ice_daily" source="ice_daily">
        <timeSeries freq="daily" source="ice_daily" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>

      <component type="ice" source="ice_month">
        <timeSeries freq="monthly" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
        <timeSeries freq="annual" chunkLength="1yr">
          <analysis switch="$(DO_DATABASE)" cumulative="$(CUMULATIVE)" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>
      </component>
    </postProcess>
  </experiment>
</experimentSuite>

